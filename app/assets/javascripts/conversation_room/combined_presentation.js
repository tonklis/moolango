(function(a,b){function c(){}function d(a){C=[a]}function e(a,b,c){return a&&a.apply(b.context||b,c)}function f(f){function F(a){!w++&&b(function(){y();z&&(E[k]={s:[a]});G&&(a=G.apply(f,[a]));e(f.success,f,[a,s]);e(H,f,[f,s])},0)}function D(a){!w++&&b(function(){y();z&&a!=I&&(E[k]=a);e(f.error,f,[f,a]);e(H,f,[f,a])},0)}var f=a.extend({},J,f),H=f.complete,G=f.dataFilter,K=f.callbackParameter,L=f.callback,P=f.cache,z=f.pageCache,M=f.charset,k=f.url,n=f.data,N=f.timeout,A,w=0,y=c;f.abort=function(){!w++&&
y()};if(!1===e(f.beforeSend,f,[f])||w)return f;k=k||j;n=n?"string"==typeof n?n:a.param(n,f.traditional):j;k+=n?(/\?/.test(k)?"&":"?")+n:j;K&&(k+=(/\?/.test(k)?"&":"?")+encodeURIComponent(K)+"=?");!P&&!z&&(k+=(/\?/.test(k)?"&":"?")+"_"+(new Date).getTime()+"=");k=k.replace(/=\?(&|$)/,"="+L+"$1");z&&(A=E[k])?A.s?F(A.s[0]):D(A):b(function(e,f,j){if(!w){j=0<N&&b(function(){D(I)},N);y=function(){j&&clearTimeout(j);e[x]=e[p]=e[t]=e[q]=null;u[B](e);f&&u[B](f)};window[L]=d;e=a(r)[0];e.id=m+Q++;M&&(e[h]=M);
var n=function(a){(e[p]||c)();a=C;C=void 0;a?F(a[0]):D(l)};O.msie?(e.event=p,e.htmlFor=e.id,e[x]=function(){/loaded|complete/.test(e.readyState)&&n()}):(e[q]=e[t]=n,O.opera?(f=a(r)[0]).text="jQuery('#"+e.id+"')[0]."+q+"()":e[g]=g);e.src=k;u.insertBefore(e,u.firstChild);f&&u.insertBefore(f,u.firstChild)}},0);return f}var g="async",h="charset",j="",l="error",m="_jqjsp",p="onclick",q="on"+l,t="onload",x="onreadystatechange",B="removeChild",r="<script/>",s="success",I="timeout",O=a.browser,u=a("head")[0]||
document.documentElement,E={},Q=0,C,J={callback:m,url:location.href};f.setup=function(b){a.extend(J,b)};a.jsonp=f})(jQuery,setTimeout);function SSBandInteraction(a){this.config=a;this._init()}
SSBandInteraction.prototype._init=function(){var a=this,b=this.config.container,c=this.config.linksDisabled;b.bind("mousedown",function(d){if(1===d.which){var e=$(this).offset();a.startX=d.pageX-e.left;b.bind("mouseup",function(a){var d,a=a.target,e=a.tagName.toUpperCase();if(c)d=!1;else if("SPAN"===e&&"A"===a.parentNode.tagName.toUpperCase())d=a.parentNode;else if("A"===e||"AREA"===e)d=a;d&&(a=parseInt(d.attributes.href.value,10),isNaN(a)&&window.open(d.href),$.slideshareEventManager.trackOutboundClick(d.href));
b.unbind("mouseup")})}});$(b).bind("click",function(a){a.preventDefault()});$(this).bind("bandclick",function(b){b.preventDefault();var b=b.ssData.x,c=a.config.width/3;b<c?$(a).trigger("bandprevious"):b>2*c&&$(a).trigger("bandnext")});$(".leftpoint").click(function(){$(a).trigger("bandprevious")});$(".rightpoint").click(function(){$(a).trigger("bandnext")})};
SSBandInteraction.prototype.activate=function(){$(this).bind("bandprevious",function(){$.slideshareEventManager.trigger("previous",{source:"band"})});$(this).bind("bandnext",function(){$.slideshareEventManager.trigger("next",{source:"band"})})};SSBandInteraction.prototype.deactivate=function(){$(this).unbind("bandprevious");$(this).unbind("bandnext")};SSBandInteraction.prototype.destroy=function(){};
"undefined"===typeof window.cookie&&(window.cookie=function(a,b,c){if("undefined"!=typeof b){c=c||{};null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString))"number"==typeof c.expires?(d=new Date,d.setTime(d.getTime()+864E5*c.expires)):d=c.expires,d="; expires="+d.toUTCString();var e=c.path?"; path="+c.path:"",f=c.domain?"; domain="+c.domain:"",c=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,e,f,c].join("")}else{b=null;if(document.cookie&&
""!==document.cookie){c=document.cookie.split(";");for(d=0;d<c.length;d++)if(e=jQuery.trim(c[d]),e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}});
void 0===$.slideshareEventManager&&$.extend({slideshareEventManager:{SHOUTEVENTS:{next:!0,previous:!0,gotoslide:!0,slidechanged:!0,leadcreated:!0,insight:!0},insight:{viewer_id:window.cookie("_uv_id")||Math.ceil(1E8*Math.random()),last_slide:1,last_activity:$.now()},functions:{showlastscreen:function(){this.controller.displayLastScreen()},gotofirstslide:function(){var a=this.controller;a.play(1);a.config.has_audio&&this.trigger("slidecastseekslide",{index:1});"video"===a.config.player_type&&a.multimediaResource&&
a.multimediaResource.videoPlayer.seek(0).play(!0)},next:function(a){var b=this.controller,c=b.currentPosition,d=b.slideCount,e=b.slides[c];"ytube_video"===e.config.slideMode&&e._pauseVideo();c===d?this.trigger("showlastscreen"):(c+=1,b.play(c,!1,a&&a.source),b.config.has_audio&&this.trigger("slidecastseekslide",{index:c}),a&&a.source&&$.slideshareEventManager.trackEvent(a.source+"_"+c))},previous:function(a){var b=this.controller,c=b.currentPosition,d=c-1,e=a&&a.source;b.slides[c].stop();b.play(d,
!1,e);b.config.has_audio&&this.trigger("slidecastseekslide",{index:d});a&&a.source&&$.slideshareEventManager.trackEvent(a.source+"_"+d)},gotolastslide:function(){var a=this.controller;a.play(a.slideCount)},document_touch_scroll:function(a){this.controller.currentComponentSet.slidedisplayer.manualScroll(a.delta)},toggleaudio:function(){var a=this.controller;a.multimediaResource&&a.multimediaResource.togglePlay()},audioplayed:function(){this.controller.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!0})},
audiopaused:function(){this.controller.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!1})},videoready:function(a){var b=this.controller;b.initVideoPlayer(a.mode);b.currentComponentSet.videobar._bindEvents()},gotoslide:function(a){this.controller.play(a.index);$.slideshareEventManager.trackEvent("jumptoslide_"+a.index)},viewonss:function(){window.open(this.controller.config.slideview_url,"viewer")},viewfullscreen:function(){var a=this.controller,b=a.currentComponentSet;b.videobar&&
b.slidedisplayer.adjustSpinnerPosition(!0);a.isNativeFullScreenSupported?a.switchNativeView("nativefullscreen"):"video"===a.config.player_type?a.goHtmlFullscreenForVideo():a.config.inpage_full_screen?a.switchView("fullscreen"):window.open(a.getFullScreenUrl(),"viewer","width="+screen.width+",height="+screen.height+",location=no")},leavefullscreen:function(){this.controller.leaveFullScreen()},zoomin:function(){this.controller.currentComponentSet.slidedisplayer.zoomin()},zoomout:function(){this.controller.currentComponentSet.slidedisplayer.zoomout()},
playersearch:function(){},playershare:function(){if("slideview"===this.hostedIn)try{share_form_click()}catch(a){}else this.controller.displayShareScreen()},metadataloaded:function(a){var b=this.controller,c=a.type;b._metaDataHandlers()[c].success.call(b,a.json)},metadataloadfailed:function(a){var b=this.controller,a=a.type;b._metaDataHandlers()[a].failure.call(b);this.trackRawEvent("jsplayer_debug",a+"_metadataloadfailed")},width_adjusted:function(){var a=this.controller;"slideview"===this.hostedIn&&
"image"===a.mode&&this.trackRawEvent("jsplayer_debug","width_adjusted",""+a.config.id)},width_not_adjusted:function(){var a=this.controller;"slideview"===this.hostedIn&&"image"===a.mode&&this.trackRawEvent("jsplayer_debug","width_not_adjusted",""+a.config.id)},slidechanged:function(a){var b=a.index,c=this.controller;if(c.currentPosition!==b||a.force)c.updateCurrentPosition(b),c._load(b),a.alreadyInPosition||c.currentComponentSet.slidedisplayer._scrollTo(b,a.source),2===b?(c.isMobiledevice()&&(this.swipedOnce=
!0),$.slideshareEventManager.trackEvent("slidechange_2")):b===c.slideCount&&$.slideshareEventManager.trackEvent("slidechange_last"),c.has_lead&&(!this.controller.checkLeadFilledForAuthor()&&b===c.config.form_after_slide_no)&&this.trigger("showleadform"),this.trackSlideTransitionTime()},slidescrolled:function(a){(this.controller.currentPosition!==a.index||a.force)&&this.trigger("slidechanged",a)},showleadform:function(){this.controller.leadShownAndDisabled||(this.controller.multimediaResource&&this.controller.multimediaResource.pause(),
this.controller.currentComponentSet.leadForm.toggle())},showleadforvideo:function(){this.controller.has_lead&&!this.controller.checkLeadFilledForAuthor()&&this.trigger("showleadform")},showleadcta:function(){this.controller.config.show_lead_cta&&this.controller.currentComponentSet.leadcta.show()},leadformloaded:function(a){this.trigger("showleadcta");a&&(this.controller.config.leadFormHtml=a.leadFormHtml)},leadcreated:function(){this.controller.leadShownAndDisabled=!0;this.controller.setLeadFilledForAuthor();
this.controller.currentComponentSet.leadcta&&this.controller.currentComponentSet.leadcta.hide()},playvideo:function(){var a=this.controller;a.multimediaResource&&a.multimediaResource.play(!0)},showvideospinner:function(){var a=this.controller;a.currentComponentSet.slidedisplayer.videoSpinner.css("z-index",a.VIDEO_FULLSCREEN_ZINDEX).show()},hidevideospinner:function(){this.controller.currentComponentSet.slidedisplayer.videoSpinner.css("z-index","auto").hide()},toolbarshown:function(){$(".toolbar").css("z-index",
$(".slideDisplayer").css("z-index"))},leadcancelled:function(){this.controller.leadShownAndDisabled=!0;this.controller.currentComponentSet.leadcta&&this.controller.currentComponentSet.leadcta.hide()},currentversionloaded:function(a){this.controller.slides[a.index].updateRenderedResourceVersion(a.resourceKey)},resourceloaded:function(a){var b=this.controller.slides[a.index];b.updateResource(a.resourceKey,{status:"cached"});if("failed"!==b.status){var c=b.resources,d;for(d in c)if(!0===c[d].cacheable&&
"cached"!==c[d].status)return;b.status="cached";this.trigger("slideloaded",{index:a.index})}},resourceloadfailed:function(a){var b=this.controller.slides[a.index],c=a.resourceKey;b.updateResource(c,{status:"failed"});!0===b.resources[c].isCritical&&(b.status="failed",this.trigger("slideloadfailed",{index:a.index}));this.trackRawEvent("jsplayer_debug",c+"_resourceloadfailed")},fontresourceloaded:function(a){var b=this.controller;b.config.use_ssl&&-1!==a.style.indexOf(".eot")&&(a.style=a.style.replace(/http:\/\//g,
"https://"));$("<style>"+a.style+"</style>").appendTo(b.currentComponentSet.container)},slideloaded:function(a){var b=this.controller,a=a.index,c=b.slides[a];c.currentViewMode.rendered&&c.paint();b.startSlide===a&&(window._jspl&&_jspl.pageInitTime)&&this.trackValueEvent("jsperf_"+this.hostedIn,this.controller.config.id+"_slide_"+a,"",(new Date).getTime()-_jspl.pageInitTime);b.preloadMoreIfIdle(a)},slideloadfailed:function(a){controller=this.controller;var b=controller.slides[a.index];b.currentViewMode.rendered&&
b.displayError(controller.generateErrorDom("slide_error_template",{width:b.currentViewMode.width,height:b.currentViewMode.height}));controller.preloadMoreIfIdle(a.index);this.trackRawEvent("jsplayer_debug","slideloadfailed",this.controller.config.id+"_slide_"+a.index)},videoloadfailed:function(){this.trackRawEvent("jsplayer_debug","videoloadfailed")},slideloading:function(a){var b=this.controller,c=b.slides[a.index];-1===b.loadingSlides.indexOf(a.index)&&b.loadingSlides.push(a.index);c.currentViewMode.rendered&&
c.displayLoading();b.currentPosition===a.index&&this.trackRawEvent("jsplayer_debug","current_slide_loading")},audioloaded:function(){var a=this.controller,b=a.multimediaResource;b&&b.triggerPlayProgress();b.soundLoadHandler=function(){};a.currentComponentSet.toolbar.updateAudioInteraction({audioReady:!0})},audiometaloaded:function(a){var b=this.controller,c=b.multimediaResource;c.slidePositions=a.transitions||{};c.metaDataReady=!0;c._trySoundCreation();b.currentComponentSet.toolbar.updateAudioInteraction({audioMetaReady:!0});
(a=b.currentComponentSet.audiobar)&&(a.resource=c)&&a.renderSeekBar();0<b.currentPosition&&a.updateCurrentPosition(b.currentPosition)},audioloadfailed:function(){this.trackRawEvent("jsplayer_debug","audioloadfailed")},audiometaloadfailed:function(){this.trackRawEvent("jsplayer_debug","audiometaloadfailed")},updateaudioprogress:function(a){var b=this.controller.currentComponentSet.audiobar;b&&b.updateProgress(a.milliseconds)},updateaudiobuffer:function(a){var b=this.controller.currentComponentSet.audiobar;
b&&b.updateBuffer(a.milliseconds)},updateaudiomarker:function(a){var b=this.controller.currentComponentSet.audiobar;b&&b.updateCurrentPosition(a.index)},slidecastseekslide:function(a){var a=a.index||1,b=this.controller.multimediaResource;b&&(b.setPosition(1E3*((b.slidePositions||{})[a]||0)),b.triggerPlayProgress());this.trigger("gotoslide",{index:a})},showvolumecontrol:function(){var a=this.controller.currentComponentSet.toolbar;a&&a.volumeControl&&a.volumeControl.show()},hidevolumecontrol:function(){var a=
this.controller.currentComponentSet.toolbar;a&&a.volumeControl&&a.volumeControl.hide()},changevolume:function(a){var b=this.controller.multimediaResource;b&&b.changeVolume(a.volume)},volumechanged:function(a){var b=this.controller.currentComponentSet.toolbar;b&&b.volumeControl&&b.volumeControl.setVolume(a.volume)},repaint:function(){this.controller.repaint()}},registerController:function(a){this.controller=a},registerPlayer:function(a){this.player=$(a)},registerEnvironment:function(a){this.hostedIn=
a||"slideshare"},trigger:function(a,b){void 0!==this.functions[a]&&this.functions[a].call(this,b);this.SHOUTEVENTS[a]&&this.player.trigger({type:a,ssData:b})},trackEvent:function(a){void 0!==window._gaq&&window._gaq.push(["_trackEvent","jsplayer",this.hostedIn,a])},trackRawEvent:function(a,b,c){void 0!==window._gaq&&window._gaq.push(["_trackEvent",a,b,c])},trackValueEvent:function(a,b,c,d){void 0!==window._gaq&&window._gaq.push(["_trackEvent",a,b,c,d])},trackOutboundClick:function(a){this.beaconState({event:"outbound_click",
href:a,slide_no:this.controller.currentPosition,ts:$.now()})},trackUniqueViewer:function(){this.beaconState({event:"page_hit",ts:$.now()})},trackSlideTransitionTime:function(){var a=$.now(),b=a-this.insight.last_activity;this.insight.last_activity=a;var c=this.insight.last_slide;this.trigger("insight",{index:c,time:b});this.beaconState({event:"slide_time_spent",time_spent:b,slide_no:c,ts:a});this.insight.last_slide=this.controller.currentPosition},beaconState:function(a){var b=this.controller.config;
if(1===b.track_slide_enable){var c=("https:"===document.location.protocol?"https://":"http://")+b.beacon_url;window.cookie("_uv_id",this.insight.viewer_id,{expires:730});a=$.extend(a,{slideshow_id:b.id,author_id:b.author_id,_uv_id:this.insight.viewer_id});(new Image(1,1)).src=c+(0>c.indexOf("?")?"?":"&")+$.param(a)}}}});function SSLastScreen(a){this.config=a;this.html=a.settings.html;this.related=this.config.settings.related;this.relatedPerScreen=2;this.relatedScreenIndex=0;this._init()}
SSLastScreen.prototype._init=function(){};SSLastScreen.prototype.show=function(a){void 0===this.overlay&&(this.overlay=$("<div/>").addClass("jsplLastScreenOverlay").appendTo(this.config.renderTo),this.lastScreen=$("<div/>").addClass("lastScreenContainer").html(this.html).appendTo(this.config.renderTo),this.setDimensions(a),this.populateTemplate(),this.bindEvents())};
SSLastScreen.prototype.populateTemplate=function(){this.lastScreen.find(".lastScreenEmbedCode").val(this.config.embed_code);this.lastScreen.find(".lastScreenSSUrl").val(this.config.settings.url);$.fn.tooltip&&this.lastScreen.find(".j-tooltip").tooltip();this.config.disableRelated?(this.lastScreen.find(".lastScreen").addClass("j-disable-related"),this.config.disableShare&&this.lastScreen.find(".lastScreen").addClass("j-disable-share"),this.populateShareOptions(),this.isProLastScreen=!0):(this.populateRelated(0,
this.lastScreen.find(".relatedPresentation ul>li.relatedContent")),this.isProLastScreen=!1)};SSLastScreen.prototype.populateShareOptions=function(){this.shareOptions=new SSShareOptions({renderTo:this.lastScreen.find(".pro-overlay"),html:this.config.shareOptions.html,linkedinShare:this.config.shareOptions.linkedin_share,twitterShare:this.config.shareOptions.twitter_share});this.shareOptions.show()};
SSLastScreen.prototype.populateRelated=function(a,b){var c,d,e,f,g,h=function(){$.slideshareEventManager.trackEvent("lastscreen_relatedclick")};c=this.relatedPerScreen*a;if(!(c>this.related.length)){e=c+this.relatedPerScreen-1;this.relatedScreenIndex=a;for(d=0;c<=e;c++,d++)g=this.related[c],f=$(b[d]),"undefined"===typeof g?f.hide():(f.show(),f.find(".relatedThumb img").attr("src",g.thumbnail),f.find(".relatedThumb").attr("href",g.url),f.find(".relatedTitle").text(g.title).attr("href",g.url),f.find(".relatedAuthor").text(g.author).attr("href",
"/"+g.author_login),f.find(".relatedViews").text(g.views),f.unbind("click"),f.bind("click",h));this.rebindRotateTimeout()}};SSLastScreen.prototype.rotateRelated=function(a){var b=this.lastScreen.find(".relatedPresentation ul>li.relatedContent");"back"===a?(a=this.relatedScreenIndex-1,0>a&&(a=parseInt((this.related.length-1)/this.relatedPerScreen,10))):(a=this.relatedScreenIndex+1,a>parseInt((this.related.length-1)/this.relatedPerScreen,10)&&(a=0));this.populateRelated(a,b)};
SSLastScreen.prototype.rebindRotateTimeout=function(){var a=this;this.rotateIntervalId&&clearTimeout(this.rotateIntervalId);this.rotateIntervalId=setTimeout(function(){a.rotateRelated("front")},3E3)};SSLastScreen.prototype.destroy=function(){this.rotateIntervalId&&clearTimeout(this.rotateIntervalId);this.overlay&&(this.overlay.remove(),delete this.overlay);this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)};
SSLastScreen.prototype.bindEvents=function(){var a=this;this.lastScreen.find(".close,.close-btn").bind("click",function(b){b.preventDefault();a.destroy();$.slideshareEventManager.trigger("toolbarshown")});this.lastScreen.find("input[type=text]").bind("focus",function(){$(this).hasClass("lastScreenEmbedCode")&&$.slideshareEventManager.trackEvent("lastscreen_embedclick")});this.lastScreen.find(".lastScreenEmailShare").bind("click",function(b){$.fn.tooltip&&a.lastScreen.find(".j-tooltip").tooltip("hide");
b.preventDefault();a.destroy();$.slideshareEventManager.trigger("playershare");$.slideshareEventManager.trackEvent("lastscreen_share")});this.lastScreen.find(".lastScreenReplay").bind("click",function(b){$.fn.tooltip&&a.lastScreen.find(".j-tooltip").tooltip("hide");b.preventDefault();a.destroy();$.slideshareEventManager.trigger("gotofirstslide");$.slideshareEventManager.trackEvent("lastscreen_replay")});this.lastScreen.find(".lastScreenNext").bind("click",function(b){b.preventDefault();a.rotateRelated("front")});
this.lastScreen.find(".lastScreenPrev").bind("click",function(b){b.preventDefault();a.rotateRelated("back")});this.lastScreen.find("input[type=text]").bind("click",function(){this.select()});this.shareOptions&&(this.shareOptions.twitter.bind("click",function(){_gaq.push(["_trackEvent","bigfoot_slideview","proLastscreenTwitterShare"])}),this.shareOptions.linkedIn.bind("click",function(){_gaq.push(["_trackEvent","bigfoot_slideview","proLastscreenLinkedInShare"])}),this.shareOptions.fbLike.attr("id",
"proLastScreenFB"))};SSLastScreen.prototype.setDimensions=function(a){void 0!==this.lastScreen&&(this.config.lastScreenClass&&this.lastScreen.find(".lastScreen").addClass(this.config.lastScreenClass),this.lastScreen.css({height:a.height,width:a.width}))};function SSLeadCTA(a){this.config=a;this.image_width=103;this._init()}
SSLeadCTA.prototype._init=function(){this.lead_cta_div=$("<div/>").html(this.config.html).appendTo(this.config.renderTo);this.cta_link=$("#lead_cta",this.lead_cta_div);this.setDimensions();this.deactivate()};SSLeadCTA.prototype.setDimensions=function(){this.lead_cta_div.addClass("lead_cta_div").css({left:this.config.renderTo.width()/2-this.image_width/2});this.config.has_audio&&(this.lead_cta_div.addClass("slide_cast"),this.lead_cta_div.css({bottom:54}))};
SSLeadCTA.prototype._bindEvents=function(){this.cta_link.unbind("click").bind("click",function(a){a.preventDefault();a.stopPropagation();$.slideshareEventManager.trigger("showleadform")})};SSLeadCTA.prototype._unbindEvents=function(){this.cta_link.unbind("click").bind("click",function(a){a.preventDefault();a.stopPropagation()})};SSLeadCTA.prototype.deactivate=function(){this._unbindEvents()};SSLeadCTA.prototype.activate=function(){this._bindEvents()};
SSLeadCTA.prototype.hide=function(){$(".lead_cta_div").hide();$.slideshareEventManager.trigger("playvideo")};SSLeadCTA.prototype.show=function(){this.lead_cta_div.show()};SSLeadCTA.prototype.destroy=function(){this._unbindEvents();this.lead_cta_div.remove()};function SSLeadForm(a){this.config=a;this.config.showLeadForm=!0;this._init()}
SSLeadForm.prototype._init=function(){var a=this;""===this.config.leadFormHtml?$.ajax({url:this.config.lead_form_url,data:{},dataType:"html",cache:!1,type:"POST",success:function(b){a.config.leadFormHtml=b;$.slideshareEventManager.trigger("leadformloaded",{leadFormHtml:b})},failure:function(){}}):$.slideshareEventManager.trigger("leadformloaded")};
SSLeadForm.prototype.toggle=function(){null===document.getElementById("leadsform-placeholder-new")&&($(this.config.leadFormHtml).insertBefore(this.config.renderTo),this.config.show_skip_button||$(".j-lead-cancel").remove());this.setDimensions(this.config);$(".lead-overlay").fadeToggle(1E3,"linear")};
SSLeadForm.prototype._bindEvents=function(){$("form",".lead-overlay").live("submit",function(a){a.preventDefault();a.stopPropagation();var c=$(".lead-overlay #leadsform-placeholder-new"),d=$(".lead-overlay .progress"),e=$(".lead-overlay .progress_done"),f=$(".lead-overlay .progress_error");c.form=$("form",c);try{c.form[0].validate_formfields()&&(c.css({height:"120px"}),d.show(),c.form.hide(),$.slideshareEventManager.trackEvent("bigfoot_leadsform","sent"),$.ajax({url:c.form[0].action,data:"mechanism=Sidebar&"+
c.form.serialize(),type:"POST",cache:!1,success:function(){e.show();d.hide();$(".lead-overlay").fadeOut(3E3,"linear");$.slideshareEventManager.trigger("leadcreated");c.html('<div class="progress_done">'+e.html()+"</div>")},error:function(){d.hide();f.show();$(".lead-overlay").fadeOut(2E3,"linear");setTimeout(function(){f.hide();c.form.show()},2E3)}}))}catch(g){}});if(this.config.show_skip_button){var a=this;$(this.config.renderTo).parent().on("click",".j-lead-cancel",function(b){b.preventDefault();
b.stopPropagation();$.slideshareEventManager.trigger("leadcancelled");a.hide()})}else $(".j-lead-cancel").remove()};SSLeadForm.prototype._unbindEvents=function(){$(".j-lead-cancel").off("click");$("form",".lead-overlay").die()};SSLeadForm.prototype.deactivate=function(){this._unbindEvents();$(".lead-overlay").remove()};SSLeadForm.prototype.activate=function(){this._unbindEvents();this._bindEvents()};SSLeadForm.prototype.hide=function(){$(".lead-overlay").hide()};SSLeadForm.prototype.show=function(){$(".lead-overlay").show()};
SSLeadForm.prototype.isVisible=function(){return $(".lead-overlay").is(":visible")};SSLeadForm.prototype.destroy=function(){$(".lead-overlay").remove()};SSLeadForm.prototype.setDimensions=function(a){$(".lead-overlay").css({height:a.height});$(".j-leadsform-placeholder").css({height:0.66*a.height})};function SSReplayScreen(a){this.config=a;this.html=a.settings.html;this._init()}SSReplayScreen.prototype._init=function(){};
SSReplayScreen.prototype.show=function(a){void 0===this.overlay&&(this.overlay=$("<div/>").css({width:"100%",height:"100%","background-color":"black",opacity:0.75,position:"absolute",top:0,left:0}).appendTo(this.config.renderTo),this.lastScreen=$("<div/>").css({position:"absolute"}).html(this.html).appendTo(this.config.renderTo),this.setDimensions(a),this.bindEvents())};
SSReplayScreen.prototype.destroy=function(){this.overlay&&(this.overlay.remove(),delete this.overlay);this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)};SSReplayScreen.prototype.bindEvents=function(){var a=this;this.lastScreen.find(".replayScreenReplay").bind("click",function(b){b.preventDefault();a.destroy();$.slideshareEventManager.trigger("gotofirstslide");$.slideshareEventManager.trackEvent("lastscreen_replay")})};
SSReplayScreen.prototype.setDimensions=function(a){if(void 0!==this.lastScreen){var b;b=(a.height-25)/2;a=(a.width-93)/2;b=0>b?0:parseInt(b,10);a=0>a?0:parseInt(a,10);this.lastScreen.css({top:b,left:a})}};function SSResource(a){"undefined"!==typeof a&&(this.TIMEOUT_LIMIT=1E5,this.RETRY_WAIT_TIME=3E3,this.config=a,this.resourceKey=a.resourceKey,this._init())}SSResource.prototype._init=function(){this._initResourceConfig();this.status="initialized"};
SSResource.prototype.reset=function(){this.status="initialized";this.retries=0;if(this.suffixes){var a,b;for(a in this.suffixes)b=this.suffixes[a],b.status="initialized",delete b.startTime,b.retries=2}};SSResource.prototype.load=function(){this.status="loading";this.loadBlocked||(this.startTime=(new Date).getTime(),this._tryLoad())};
SSResource.prototype.update=function(a){var b,c;for(b in a)c=a[b],"image"===this.resourceKey&&"sizes"===b?this.delayedInitialize&&this.delayedInitialize(c):"image"===this.resourceKey&&"linkData"===b?this.addLinks(c):this[b]=c};
SSResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},a.RETRY_WAIT_TIME)):$.slideshareEventManager.trigger("resourceloadfailed",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};function SSShareOptions(a){this.config=a;this.renderTo=a.renderTo;this.html=this.config.html;this._init()}SSShareOptions.prototype._init=function(){};
SSShareOptions.prototype.show=function(){var a=this;this.shareOptions=$("<div/>").html(this.html).appendTo(this.renderTo);this.setShareObjects();$.each({".thirdPartyShare a.Twitter":this.config.twitterShare,".thirdPartyShare a.Linkedin":this.config.linkedinShare},function(b,c){a.shareOptions.find(b).bind("click",function(a){a.preventDefault();window.open(c,"ss_share","width=660,height=490,toolbar=no,resizable=fixed,status=no,scrollbars=no,menubar=no,screenX=0,screenY=0").focus()})})};
SSShareOptions.prototype.setShareObjects=function(){this.twitter=this.shareOptions.find(".Twitter");this.linkedIn=this.shareOptions.find(".Linkedin");this.fbLike=this.shareOptions.find(".fb-like")};function SSShareScreen(a){this.config=a;this.html=a.settings.html;this._init()}SSShareScreen.prototype._init=function(){};
SSShareScreen.prototype.show=function(a){void 0===this.overlay&&(this.overlay=$("<div/>").addClass("jsplShareScreenOverlay").appendTo(this.config.renderTo),this.shareScreen=$("<div/>").addClass("jsplShareScreenContainer").html(this.html).appendTo(this.config.renderTo),this.setDimensions(a),this.populateTemplate(),this.bindEvents())};
SSShareScreen.prototype.populateTemplate=function(){this.shareScreen.find(".shareScreenEmbedCode").val(this.config.embed_code);this.shareScreen.find(".shareScreenSSUrl").val(this.config.settings.url);this.shareScreen.find(".shareScreenFromName").val(this.config.settings.user_name);this.populateShareOptions()};
SSShareScreen.prototype.populateShareOptions=function(){this.shareOptions=new SSShareOptions({renderTo:this.shareScreen.find(".shareScreen"),html:this.config.shareOptions.html,linkedinShare:this.config.shareOptions.linkedin_share,twitterShare:this.config.shareOptions.twitter_share});this.shareOptions.show()};SSShareScreen.prototype.destroy=function(){this.overlay.remove();delete this.overlay;this.shareScreen.remove();delete this.shareScreen};
SSShareScreen.prototype.bindEvents=function(){var a=this;this.shareScreen.find(".close").bind("click",function(b){b.preventDefault();a.destroy()});this.shareScreen.find("input[type=text]").bind("click",function(){this.select()});var b=this.shareScreen.find("input[type=submit]");this.shareScreen.find("form").bind("submit",function(a){a.preventDefault()});b.bind("click",function(c){c.preventDefault();var c=a.shareScreen.find(".shareScreenFromName").val(),d=a.shareScreen.find(".shareScreenMailID").val(),
e=a.shareScreen.find(".shareDefaultMessage").val();0===c.length||0===d.length||("undefined"!==typeof a.emailProgress&&a.emailProgress.remove(),a.emailProgress=$("<span/>").text("sending..."),b.parent().prepend(a.emailProgress),$.ajax({url:"/share/contacts/"+a.config.settings.slideshow_id,type:"POST",data:{"message[body]":e,"message[from]":c,"message[to]":d},dataType:"json",success:function(b){!0===b.success?a.emailProgress.text("Sent"):a.emailProgress.text("Sending failed")},error:function(){a.emailProgress.text("Sending failed")}}))})};
SSShareScreen.prototype.setDimensions=function(a){if(void 0!==this.shareScreen){this.config.shareScreenClass&&this.shareScreen.find(".shareScreen").addClass(this.config.shareScreenClass);var b=$(this.shareScreen).width(),c=$(this.shareScreen).height(),c=(a.height-c)/2,a=(a.width-b)/2,c=0>c?0:parseInt(c,10),a=0>a?0:parseInt(a,10);this.shareScreen.css({top:c,left:a})}};
function SSSlide(a){"undefined"!==typeof a&&(this.index=a.index,this.realIndex=a.realIndex,this.setContentDimensions(a.contentWidth,a.contentHeight),delete a.contentWidth,delete a.contentHeight,this.config=a,this._init())}SSSlide.prototype.setContentDimensions=function(a,b){this.contentWidth=a;this.contentHeight=b};SSSlide.prototype._init=function(){this.status="initialized";this.viewModes={};this.resources={};this._createResources();this._bindEvents()};SSSlide.prototype.stop=function(){};
SSSlide.prototype._createResources=function(){"undefined"===typeof this.config.timestamp&&(this.config.timestamp=(new Date).getTime());switch(this.config.slideMode){case "image":this.resources.image=new SSFallbackImageResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,signatures:{},availableSizes:this.config.availableSizes,
contentWidth:this.contentWidth,privateImageSignatures:this.config.privateImageSignatures,conversionVersion:this.config.conversionVersion});break;case "html":this.resources.image=new SSBgImageResource({baseUrl:this.config.bucketLocation,availableSizes:this.config.availableSizes,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,contentWidth:this.contentWidth,
conversionVersion:this.config.conversionVersion,privateImageSignatures:this.config.privateImageSignatures}),this.resources.html=new SSHtmlResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"html",indexGenerator:this.config.indexGenerator,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,conversionVersion:this.config.conversionVersion,signature:this.config.htmlResourceSignature})}delete this.config.availableSizes};
SSSlide.prototype.reset=function(){this.status="initialized";for(var a in this.resources)resource=this.resources[a].reset()};
SSSlide.prototype.load=function(){if("cached"===this.status)this._getNewResourceVersions(this.currentViewMode.wrapperWidth),$.slideshareEventManager.trigger("slideloaded",{index:this.index});else if("loading"===this.status)$.slideshareEventManager.trigger("slideloading",{index:this.index});else if("failed"===this.status)$.slideshareEventManager.trigger("slideloadfailed",{index:this.index});else{this.status="loading";$.slideshareEventManager.trigger("slideloading",{index:this.index});for(var a in this.resources)resource=
this.resources[a],resource.status="loading",resource.load()}};SSSlide.prototype.updateResource=function(a,b){"undefined"!==typeof this.resources[a]&&this.resources[a].update(b)};SSSlide.prototype.displayError=function(a,b){this.empty();a.appendTo(this.currentViewMode.wrapper);var c=this,d=a.find("input");b?d.hide():d.bind("click",function(a){a.preventDefault();a.stopPropagation();c.reset();c.load()})};
SSSlide.prototype.paint=function(){"undefined"===typeof this.currentViewMode.imageElement&&this.render();this.currentViewMode.imageElement.css({width:this.currentViewMode.width,height:this.currentViewMode.height});if("html"===this.config.slideMode){var a;a=Modernizr.csstransforms?{"-moz-transform":"scale("+this.currentViewMode.contentScale+")","-webkit-transform":"scale("+this.currentViewMode.contentScale+")","-o-transform":"scale("+this.currentViewMode.contentScale+")",msTransform:"scale("+this.currentViewMode.contentScale+
")","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0","-o-transform-origin":"0 0",msTransformOrigin:"0 0"}:{zoom:this.currentViewMode.contentScale};this.currentViewMode.contentElement.css({width:this.currentViewMode.width,height:this.currentViewMode.height});this.currentViewMode.contentElement.children(".ssml_div").css(a)}else"image"===this.config.slideMode&&this._updateLinks()};SSSlide.prototype.isFullscreen=function(){return"fullscreen"===this.currentMode||"nativefullscreen"===this.currentMode};
SSSlide.prototype.render=function(){this.empty();var a=this;this.currentViewMode.imageElement=$("<img/>").css({position:"absolute",top:this.PADDING,left:0,margin:0,padding:0}).attr({src:this.resources.image.getContent()}).load(function(){"function"===typeof isIos&&isIos()&&$(this).css("-webkit-backface-visibility","hidden");if("slideview"===a.config.hosted_in){var b=$(this).height();$(this).css("height","");var d=$(this).height();if(b!==d&&!window.slideResizeEventFired){window.slideResizeEventFired=
!0;var d=a.config.ssid,e="00",f=/slide-(\d+)-.*/;f.test(this.src)&&(e=this.src.match(f)[1]);$.slideshareEventManager.trackRawEvent("jsplayer_debug","slideresize",d+"_slide_"+e)}$(this).css("height",b)}}).appendTo(this.currentViewMode.wrapper);if("html"===this.config.slideMode){var b="<style>"+this.resources.html.getContent().style+"</style>";$(b).appendTo(this.currentViewMode.wrapper);this.currentViewMode.contentElement=$("<div/>").css({position:"absolute",overflow:"hidden"}).html(this.resources.html.getContent().html);
this.currentViewMode.contentElement.appendTo(this.currentViewMode.wrapper)}};SSSlide.prototype._updateLinks=function(){void 0!==this.currentViewMode.imageMapId&&$("#"+this.currentViewMode.imageMapId).remove();this._renderLinks()};
SSSlide.prototype._renderLinks=function(){var a=this.resources.image.links;if(void 0!==a){var b=this.currentViewMode.width,c=this.currentViewMode.height,d=a.length,e,f,g,h="image_map_"+this.currentMode+"_"+this.index+parseInt(2500*Math.random(),10),j='<map id="'+h+'" name="'+h+'">';for(e=0;e<d;e++)f=a[e],g=[parseInt((f.box[0]||0)*b/100,10),parseInt((f.box[3]||0)*c/100,10),parseInt((f.box[2]||0)*b/100,10),parseInt((f.box[1]||0)*c/100,10)],g=g.join(","),j=j+'<area shape="rect" coords="'+g+'" href="'+
f.url+'" rel="nofollow" />';$(j+"</map>").appendTo(this.currentViewMode.wrapper);this.currentViewMode.imageElement.attr("usemap","#"+h);this.currentViewMode.imageMapId=h}};SSSlide.prototype._getNewResourceVersions=function(){this.resources.image._tryLoad(this.currentViewMode.wrapperWidth)};SSSlide.prototype.updateRenderedResourceVersion=function(a){this.currentViewMode.rendered&&"image"===a&&void 0!==this.currentViewMode.imageElement&&this.currentViewMode.imageElement.attr({src:this.resources.image.getContent()})};
SSSlide.prototype._bindEvents=function(){};function SSSlideDisplayer(a){"undefined"!==typeof a&&(this.config=a,this.slideOffsets=[],this.playerBgColor=a.playerBgColor||"jsplBgColorCCC",this.state="initialized",this.zoomIndex=0,this._init())}SSSlideDisplayer.prototype._init=function(){this.container=$("<div/>").addClass("slideDisplayer "+this.playerBgColor).appendTo(this.config.renderTo);this.showInitializer()};SSSlideDisplayer.prototype.hideInitializer=function(){this.container.empty()};
SSSlideDisplayer.prototype.error=function(a){this.hideInitializer();a.appendTo(this.container)};SSSlideDisplayer.prototype.zoomin=function(){var a=this.zoomIndex+1;a!==this.zoomLevels.length&&(this.zoomIndex=a,this.setZoom(a),$(this).trigger("zoomchanged"))};SSSlideDisplayer.prototype.zoomout=function(){0!==this.zoomIndex&&(this.zoomIndex-=1,this.setZoom(this.zoomIndex),$(this).trigger("zoomchanged"))};SSSlideDisplayer.prototype.activate=function(){};SSSlideDisplayer.prototype.deactivate=function(){};
SSSlideDisplayer.prototype.destroy=function(){this.container.remove()};SSSlideDisplayer.prototype._bindEvents=function(){};SSSlideDisplayer.prototype.refresh=function(a){var b=this;$.each(a,function(a,d){b.config[a]&&(b.config[a]=d)})};function SSTouchInteraction(a){this.config=a;this._init()}SSTouchInteraction.prototype._init=function(){this.touch={active:!1};this._bindEvents()};
SSTouchInteraction.prototype.activate=function(){$(this).bind("touchprevious",function(){$.slideshareEventManager.trigger("previous",{source:"swipe"})});$(this).bind("touchnext",function(){$.slideshareEventManager.trigger("next",{source:"swipe"})})};SSTouchInteraction.prototype.deactivate=function(){$(this).unbind("touchprevious");$(this).unbind("touchnext")};SSTouchInteraction.prototype.destroy=function(){};
SSTouchInteraction.prototype._bindEvents=function(){var a=this;"document"===this.config.playerType?(this.touchMove=function(b){var c=b.originalEvent;$.slideshareEventManager.trigger("document_touch_scroll",{delta:a.touch.start.coords[1]-c.touches[0].pageY});a.touch.start={coords:[c.touches[0].pageX,c.touches[0].pageY]};b.preventDefault()},this.config.container.bind("touchstart",function(b){b=b.originalEvent;a.touch.start={coords:[b.touches[0].pageX,b.touches[0].pageY]};$(a.config.container).bind("touchmove",
a.touchMove)})):(this.config.container.bind("touchstart",function(b){b=b.originalEvent;1===b.touches.length&&(a.touch.active=!0,a.touch.start={coords:[b.touches[0].pageX,b.touches[0].pageY],transitionFired:!1},$(a.config.container).bind("touchmove",a.touchMove),$(".landscape-full-screen-slidecount, .landscape-full-screen-logo").fadeIn())}),this.config.container.bind("touchend",function(){$(document).unbind("touchmove");setTimeout(function(){$(".landscape-full-screen-slidecount, .landscape-full-screen-logo").stop().fadeOut()},
1E3)}),this.touchMove=function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],d=c.pageX-a.touch.start.coords[0],c=c.pageY-a.touch.start.coords[1],e=Math.abs(d)>Math.abs(c),f=1===b.originalEvent.touches.length,g=a.touch.start.transitionFired;e&&(!g&&f)&&(b.preventDefault(),-5>d&&10>Math.abs(c)?$(a).trigger("touchnext"):5<d&&10>Math.abs(c)&&$(a).trigger("touchprevious"),5<Math.abs(d)&&($(a.config.container).unbind("touchmove"),a.touch.start.transitionFired=!0))})};
function SSFontResource(a){this.resourceTemplate={prefix:a.baseUrl,cacheable:!0,retries:2,isCritical:!1};SSResource.call(this,a)}SSFontResource.prototype=new SSResource;SSFontResource.prototype._initResourceConfig=function(){var a=this.resourceTemplate;this.url=a.prefix+"meta-"+this.config.indexString+this.config.suffix+"?"+this.config.timestamp;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical};
SSFontResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_font_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};SSFontResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){a.status="cached";$.slideshareEventManager.trigger("fontresourceloaded",{style:b.style})}};
SSFontResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},1E3)):$.slideshareEventManager.trigger("fontloadfailed",{})}};
function SSHtmlResource(a){this.resourceTemplate={prefix:a.baseUrl,key:"page_",suffix:".js?"+a.timestamp,digitLength:4,cacheable:!0,retries:2,isCritical:!0};a.is_private&&void 0===a.signature&&(this.loadBlocked=!0);SSResource.call(this,a)}SSHtmlResource.prototype=new SSResource;SSHtmlResource.prototype.ready=function(){this._initResourceConfig();this.loadBlocked=!1;"loading"===this.status&&this.load()};
SSHtmlResource.prototype._initResourceConfig=function(){if(!(this.config.is_private&&void 0===this.config.signature)){var a=this.resourceTemplate,b=this.config.indexGenerator(this.config.realIndex,a.digitLength);this.url=this.config.is_private?a.prefix+a.key+b+".js"+this.config.signature:a.prefix+a.key+b+a.suffix;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical}};SSHtmlResource.prototype.updateSignature=function(a){this.config.signature=a};
SSHtmlResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};
SSHtmlResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){var c=b.style.replace(/a\.ssml_a \{.*?\}/,"").replace(/\.ssml_div span \{.*?\}/,"").replace(/\.ps([\s\S]*?)\{[\s\S]*?\}/g,"").replace(/@font-face[\s\S]*?\{[\s\S]*?\}/g,"");a.html=b.html;a.style=c;$.slideshareEventManager.trigger("resourceloaded",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};SSHtmlResource.prototype.getContent=function(){return{html:this.html,style:this.style}};
function SSImageResource(a){"undefined"!==typeof a&&(a.availableSizes?(this.imageVersions=this._mapSizesToVersions(a.availableSizes),delete a.availableSizes,this._setUrlGenerator(a.conversionVersion,a.is_private)):this.loadBlocked=!0,this.contentWidth=a.contentWidth,delete a.contentWidth,SSResource.call(this,a),this.RETRY_WAIT_TIME=1E3,delete this.imageVersions)}SSImageResource.prototype=new SSResource;
SSImageResource.prototype._initResourceConfig=function(){if(void 0!==this.imageVersions){var a=this.resourceTemplate;this.indexString=this.config.indexGenerator(this.config.realIndex,a.digitLength);this.suffixes=this._getSuffixes();this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical;this.privateUrls={}}};SSImageResource.prototype._getUrl=function(a){return a[a.length-1].url};
SSImageResource.prototype._mapSizesToVersions=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&(b[parseInt(c,10)]=a[c]);return b};SSImageResource.prototype._setUrlGenerator=function(a,b){switch(a){case 2:b?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrlV2):this._generateUrl=this._generateUrlV2;break;case 1:b&&(this.useTimeStamp=!1),this._generateUrl=this._generateUrlV1}};
SSImageResource.prototype.delayedInitialize=function(a){this.imageVersions=this._mapSizesToVersions(a.availableSizes);this.contentWidth=a.contentWidth;this._setUrlGenerator(a.conversionVersion,a.is_private);a.is_private||this.ready()};SSImageResource.prototype.ready=function(){this._initResourceConfig();delete this.imageVersions;this.loadBlocked=!1;"loading"===this.status&&this.load()};
SSImageResource.prototype._tryLoad=function(a){var a=a||this.config.playerWidth,a=this._getAppropriateWidth(a),b=this.suffixes[a],c;c=this._getUrl(b);a===this.currentWidth&&"initialized"!==b.status||("failed"===b.status?this.versionErrorInternalHandler(a,c)():(this.currentWidth=a,"loading"!==b.status&&("loaded"===b.status?this.versionLoadedInternalHandler(a,c)():(b.status="loading",void 0===b.startTime&&(b.startTime=(new Date).getTime()),b=new Image,$(b).bind("load",this.versionLoadedInternalHandler(a,
c)).bind("error",this.versionErrorInternalHandler(a)),b.src=c))))};SSImageResource.prototype.versionLoadedInternalHandler=function(a,b){var c=this;return function(){c.suffixes[a].status="loaded";"loading"===c.status?(c.url=b,c.resourceLoadedInternalHandler()()):"cached"===c.status&&a===c.currentWidth&&(c.url=b,$.slideshareEventManager.trigger("currentversionloaded",{index:c.config.slideIndex,resourceKey:c.resourceKey}))}};
SSImageResource.prototype.versionErrorInternalHandler=function(a){var b=this;return function(){var c=b.suffixes[a],d=c.startTime,d=(new Date).getTime()-d,e=c.retries;if(0<e&&d<b.TIMEOUT_LIMIT)c.retries=e-1,c.status="initialized",setTimeout(function(){b._tryLoad()},b.RETRY_WAIT_TIME);else if(c.status="failed","loading"===b.status&&a===b.currentWidth){var c=!1,f;for(f in b.suffixes)if(d=b.suffixes[a],"loading"===d.status||"loaded"==d.status)c=!0;c||b.resourceErrorInternalHandler()()}}};
SSImageResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(){$.slideshareEventManager.trigger("resourceloaded",{index:a.config.slideIndex,resourceKey:a.resourceKey})}};SSImageResource.prototype.getContent=function(){var a=this.suffixes[this.currentWidth];if("loaded"===a.status)return this.url;for(var b in this.suffixes)if(a=this.suffixes[b],"loaded"===a.status)return url=this._getUrl(a);return this.url};
SSImageResource.prototype._getAppropriateWidth=function(a){var b,c,d;b=this.suffixes;var e=[];for(c in b)c=parseInt(c,10),b.hasOwnProperty(c)&&e.push(c);e.sort(function(a,b){return a-b});for(b=0;b<e.length;b++)if(d=c=e[b],a<=c)return c;return d};function SSMetaResource(a){this.resourceTemplate={url:a.url,cacheable:!0,retries:2,isCritical:!0};SSResource.call(this,a)}SSMetaResource.prototype=new SSResource;
SSMetaResource.prototype._initResourceConfig=function(){var a=this.resourceTemplate;this.url=a.url+"?"+this.config.timestamp;this.cacheable=a.cacheable;this.retries=a.retries||0;this.isCritical=a.isCritical};SSMetaResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_meta_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1E4})};
SSMetaResource.prototype.resourceLoadedInternalHandler=function(){var a=this;return function(b){a.status="loaded";$.slideshareEventManager.trigger("metadataloaded",{type:a.config.type,json:b})}};SSMetaResource.prototype.resourceErrorInternalHandler=function(){var a=this;return function(){var b=a.startTime,b=(new Date).getTime()-b,c=a.retries;0<c&&b<a.TIMEOUT_LIMIT?(a.update({retries:c-1}),setTimeout(function(){a._tryLoad()},1E3)):$.slideshareEventManager.trigger("metadataloadfailed",{type:a.config.type})}};
function SSBgImageResource(a){this.resourceTemplate={prefix:a.baseUrl,digitLength:3,cacheable:!0,retries:0,isCritical:!0};this.useTimeStamp=!0;var b=a.availableSizes;this.imageVersions=[];for(var c in b)this.imageVersions[parseInt(c,10)]=b[c];switch(a.conversionVersion){case 2:a.is_private?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrlV2):this._generateUrl=this._generateUrlV2;break;case 1:this._generateUrl=this._generateUrlV1,a.is_private&&(this.useTimeStamp=!1)}SSImageResource.call(this,
a)}SSBgImageResource.prototype=new SSImageResource;SSBgImageResource.prototype._generateUrlV2=function(a,b,c){return this.config.baseUrl+"images/"+parseInt(c,10)+"/slide-"+a+"-"+b+".jpg?"+this.config.timestamp};SSBgImageResource.prototype._generateUrlV1=function(a,b,c){return this.useTimeStamp?this.config.baseUrl+"output"+a+(b===this.contentWidth?"":"-"+b)+"."+c+"?"+this.config.timestamp:this.config.baseUrl+"output"+a+(b===this.contentWidth?"":"-"+b)+"."+c+this.config.privateImageSignatures[b][75].url};
SSBgImageResource.prototype._generatePrivateUrlV2=function(a,b,c){return this.config.baseUrl+"images%2F"+parseInt(c,10)+"%2Fslide-"+a+"-"+b+".jpg"+this.config.privateImageSignatures[b][c].url};
SSBgImageResource.prototype._getSuffixes=function(){var a={},b=this.imageVersions,c,d,e,f,g,h;for(d in b)if(b.hasOwnProperty(d)){d=parseInt(d,10);e=b[d];a[d]=[];f=e.length;for(c=0;c<f;c++)g=parseInt(e[c],10),h={url:this._generateUrl(this.indexString,d,e[c]),status:"initialized",retries:2},a[d][isNaN(g)?75:g]=h}return a};function SSFallbackImageResource(a){this.resourceTemplate={prefix:a.baseUrl,digitLength:1,cacheable:!0,retries:0,isCritical:!0};this.useTimeStamp=!0;SSImageResource.call(this,a)}
SSFallbackImageResource.prototype=new SSImageResource;SSFallbackImageResource.prototype._generateUrlV2=function(a,b,c){return this.config.baseUrl+"/"+c+"/slide-"+a+"-"+b+".jpg?"+this.config.timestamp};SSFallbackImageResource.prototype._generateUrlV1=function(a,b){return this.useTimeStamp?this.config.baseUrl+"-slide-"+a+(b===this.contentWidth?"":"-"+b)+".jpg?"+this.config.timestamp:this.config.baseUrl+"-slide-"+a+(b===this.contentWidth?"":"-"+b)+".jpg"+this.config.privateImageSignatures[b][75].url};
SSFallbackImageResource.prototype._generatePrivateUrlV2=function(a,b,c){return this.config.baseUrl+"%2F"+c+"%2Fslide-"+a+"-"+b+".jpg"+this.config.privateImageSignatures[b][c].url};SSFallbackImageResource.prototype._getSuffixes=function(){var a=[],b=this.imageVersions,c,d,e,f,g,h;for(d in b)if(b.hasOwnProperty(d)){d=parseInt(d,10);f=b[d];a[d]=[];h=f.length;for(c=0;c<h;c++)g=parseInt(f[c],10),e={url:this._generateUrl(this.indexString,d,g),status:"initialized",retries:2},a[d][g]=e}return a};
SSFallbackImageResource.prototype.addLinks=function(a){this.links=a.links||[]};SSFallbackImageResource.prototype.addSignature=function(a){this.config.privateImageSignatures=a};function SSPresentationDisplayer(a){SSSlideDisplayer.call(this,a);this.zoomLevels=[1];this.prerenderedSlides=[];!a.isTouch&&this.initPointlyFinger()}SSPresentationDisplayer.prototype=new SSSlideDisplayer;
SSPresentationDisplayer.prototype.initPointlyFinger=function(){this.rightbandInteraction=$("<div/>").attr({"class":"rightpoint pointly"}).insertAfter(this.container);this.leftbandInteraction=$("<div/>").attr({"class":"leftpoint pointly"}).insertAfter(this.container)};
SSPresentationDisplayer.prototype.peepInandBack=function(a,b){if(!$.slideshareEventManager.swipedOnce){var c=-1*this.slideOffsets[a+1]/3,d=this;setTimeout(function(){$.slideshareEventManager.swipedOnce||(d.slidesContainer.css({"-webkit-transform":"translateX("+c+"px)","-webkit-transition":"-webkit-transform 0.3s ease-out","-webkit-backface-visibility":"hidden","-webkit-perspective":1E3}),setTimeout(function(){$.slideshareEventManager.swipedOnce||(c=-1*d.slideOffsets[a]/3,d.slidesContainer.css({"-webkit-transform":"translateX("+
c+"px)","-webkit-transition":"-webkit-transform 0.3s ease-in","-webkit-backface-visibility":"hidden","-webkit-perspective":1E3}))},400))},4E3);"undefined"===typeof b&&!$.slideshareEventManager.swipedOnce&&setTimeout(function(){d.peepInandBack(a,!0)},5E3)}};
SSPresentationDisplayer.prototype._scrollTo=function(a){if("playing"===this.state){var b="function"==typeof isIos&&isIos(),a=-1*this.slideOffsets[a];b?this.slidesContainer.css({"-webkit-transform":"translateX("+a+"px)","-webkit-transition":"-webkit-transform 0.5s ease-in-out"}):this.slidesContainer.css("margin-left",a)}};
SSPresentationDisplayer.prototype.start=function(a){var b,c;void 0===this.slideContainers&&(this.slideContainers=[]);var d=this.slideContainers;if(void 0===this.slides){this.slides=a.slides;this.state="playing";this.hideInitializer();this.slidesContainer=$("<div/>").appendTo(this.container);for(b=1;b<=this.config.slideCount;b++)d[b]=$("<div/>").appendTo(this.slidesContainer)}this.slidesContainer.removeClass(this.playerBgColor).addClass("slidesContainer "+a.playerBgColor);a.playerBgColor&&(this.playerBgColor=
a.playerBgColor);for(b=1;b<=this.config.slideCount;b++)c=this.slides[b],c.setContainer({mode:a.mode,container:d[b],bgColor:this.playerBgColor})};SSPresentationDisplayer.prototype.showInitializer=function(){var a,b;a=this.container.height()/2-16;b=this.container.width()/2-16;$("<img/>").attr({src:this.config.spinnerUrl,"class":"jsplInitializer"}).css({width:32,height:32,top:a,left:b}).appendTo(this.container)};
SSPresentationDisplayer.prototype.setDimensions=function(a){"object"===typeof a&&(this.config.width=a.width,this.config.height=a.height);a=a&&a.partial;this.container.css({height:this.config.height,width:this.config.width});if(!a&&"playing"===this.state){this.panelWidth=0;var b,c;c=0;for(a=1;a<=this.config.slideCount;a++)b=this.slides[a],b.setDimensions({parentHeight:this.config.height,parentWidth:this.config.width}),this.slideOffsets[a]=c,c+=b.wrapperOffset();this.slidesContainer.width(c);this.width=
c}};SSPresentationDisplayer.prototype.setPrerenderedSlides=function(a){var b;for(b=a.start;b<=a.end;b++)-1===$.inArray(b,this.prerenderedSlides)&&this.prerenderedSlides.push(b)};SSPresentationDisplayer.prototype.emptySlides=function(){for(var a in this.slides){var b=this.slides;b.hasOwnProperty(a)&&b[a].hide()}this.prerenderedSlides=[]};function SSPresentationSlide(a){SSSlide.call(this,a);this.PADDING=0}SSPresentationSlide.prototype=new SSSlide;SSPresentationSlide.prototype.wrapperOffset=function(){return this.currentViewMode.wrapperWidth};
SSPresentationSlide.prototype.empty=function(){"undefined"!==typeof this.currentViewMode.wrapper&&this.currentViewMode.wrapper.empty()};SSPresentationSlide.prototype.displayLoading=function(){var a,b;a=this.currentViewMode.height/2-16;b=this.currentViewMode.width/2-16;this.empty();this.spinnerUrl=this.isFullscreen()?this.config.spinnerUrlFullscreen:this.config.spinnerUrl;$("<img/>").attr({src:this.spinnerUrl}).css({width:32,height:32,top:a,left:b,position:"absolute"}).appendTo(this.currentViewMode.wrapper)};
SSPresentationSlide.prototype.setDimensions=function(a){var b,c,d,e,f=a.parentWidth,g=a.parentHeight,h=f/g;void 0===this.contentWidth||void 0===this.contentHeight?(b=f,c=g,e=d=h,$.slideshareEventManager.trackRawEvent("jsplayer_debug","no_content_meta_info","st_"+this.config.stripped_title)):(b=this.contentWidth,c=this.contentHeight,d=b/c,e=b/(c-20));var j;e>h?(b=f/b,c=16*b,e=f,j=h/d,h=0,d=100*((1-j)/2)+"%",a=j*a.parentHeight,$.slideshareEventManager.trigger("width_not_adjusted")):(b=g/c,c=16*b,j=
d/h,d=0,h=100*((1-j)/2)+"%",e=j*a.parentWidth,a=g,$.slideshareEventManager.trigger("width_adjusted"));e=parseInt(e,10);a=parseInt(a,10);this.currentViewMode.container.css({width:f,height:g});this.currentViewMode.wrapper.css({width:e,height:a,top:d,left:h,position:"absolute",padding:this.PADDING,overflow:"hidden"});this.currentViewMode.wrapperWidth=f;this.currentViewMode.wrapperHeight=g;this.currentViewMode.top=d;this.currentViewMode.left=h;this.currentViewMode.contentScale=b;this.currentViewMode.fontscale=
c;this.currentViewMode.width=e;this.currentViewMode.height=a};SSPresentationSlide.prototype.hide=function(){this.currentViewMode.rendered&&(this.empty(),delete this.currentViewMode.contentElement,delete this.currentViewMode.imageElement,this.currentViewMode.rendered=!1)};SSPresentationSlide.prototype.show=function(a){if(!this.currentViewMode.rendered||a)this.currentViewMode.rendered=!0,this.load()};SSPresentationSlide.prototype.play=function(){};
SSPresentationSlide.prototype.setContainer=function(a){var b=a.mode,c=this.viewModes[b],d={rendered:!1,container:a.container};void 0===c?(d.wrapper=$("<div/>").appendTo(a.container),c=d):"nativefullscreen"==b&&(d.wrapper=this.currentViewMode.wrapper,c=d);c.container.removeClass();c.container.addClass(a.bgColor||"jsplBgColorEEE").css({position:"relative","float":"left"});this.currentViewMode=this.viewModes[b]=c;this.currentMode=a.mode};
function SSToolbar(a){this.config=a;this.GA_EVENTS={viewonss:"toolbar_viewonss",zoomin:"toolbar_zoomin",zoomout:"toolbar_zoomout",viewfullscreen:"toolbar_fullscreen",leavefullscreen:"toolbar_leavefullscreen"};this.GA_EVENTS_SRC={previous:"toolbar_prev",next:"toolbar_next"};this._init();this._ELEMENTS=this.getElements();this._ELEMENT_PRIORITIES={1:["nav"],5:["viewOnSS"],2:["fullScreen","leaveFullScreen"],3:["share"],4:["goToSlide"],6:["zoomButtons"]};this._ELEMENT_VISIBILITY={share:!this.config.disableShare,
fullScreen:!this.config.isFullScreen,leaveFullScreen:this.config.isFullScreen,viewOnSS:this.config.enableViewSS,zoomButtons:"document"==this.config.playerType,nav:!0,goToSlide:!0};this._ELEMENT_SECTION={nav:"one",share:"two",fullScreen:"two",leaveFullScreen:"two",goToSlide:"two",viewOnSS:"one",zoomButtons:"two"};a={small:29,normal:88};"document"==this.config.playerType?(this._ELEMENT_WIDTHS={nav:30,share:72,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:a[this.config.toolbarClass],zoomButtons:56},
this._ELEMENT_SECTION.share="one"):this._ELEMENT_WIDTHS={nav:57,share:35,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:a[this.config.toolbarClass]};this.config.toolbarPadding=6}
SSToolbar.prototype._init=function(){var a=this.container=$("<div/>").attr({"class":"toolbar"}).css({height:this.config.height}).html(this.config.html).appendTo(this.config.renderTo);this.config.toolbarClass=this._getToolbarClass();this.container.addClass(this.config.toolbarClass);this.config.disableShare&&a.find(".btnShare").hide();this.config.enableViewSS&&a.find(".btnViewOnSS").show();this.config.isFullScreen&&(a.find(".btnFullScreen").hide(),a.find(".btnLeaveFullScreen").show());if(this.config.hasAudio||
"video"===this.config.playerType)this.volumeControl=new SSVolumeControl({container:a.find(".jspl_volume_control"),renderTo:a,trigger:a.find(".btnVolume")}),this.audioActive=!0;a.find(".goToSlideLabel>span").html("/"+this.config.totalSlideCount);this.deactivate()};SSToolbar.prototype._initForNativeFullScreen=function(){this._ELEMENT_VISIBILITY.fullScreen=!this.config.isFullScreen;this._ELEMENT_VISIBILITY.leaveFullScreen=this.config.isFullScreen};
SSToolbar.prototype._getToolbarClass=function(){var a="";return a=400>this.config.width?"small":"normal"};SSToolbar.prototype.getElements=function(){var a=this.container,b={};$.each({nav:".nav",share:".btnShare",fullScreen:".btnFullScreen",leaveFullScreen:".btnLeaveFullScreen",viewOnSS:".btnViewOnSS",goToSlide:".goToSlideLabel",zoomButtons:".docActions"},function(c,d){b[c]=a.find(d)});return b};
SSToolbar.prototype.deactivate=function(){this.container.find(".btnFirst, .btnPrevious, .btnNext, .btnLast, .btnSS, .btnViewOnSS, .btnFullScreen, .btnZoomOut, .btnZoomIn, .btnFind, .btnShare").unbind("click");this._unbindButtonHandler(".btnFirst, .btnPrevious, .btnNext, .btnLast, .btnSS, .btnViewOnSS, .btnFullScreen, .btnZoomOut, .btnZoomIn, .btnFind, .btnShare");this.container.find(".goToSlideLabel>input[type=text]").attr("disabled",!0);this.active=!1;this.config.hasAudio&&this.updateAudioInteraction();
"video"===this.config.playerType&&this._activateAudio()};
SSToolbar.prototype.activate=function(){this._bindButtonHandler(".btnFirst, .btnPrevious, .btnNext, .btnLast, .btnSS, .btnViewOnSS, .btnFullScreen, .btnZoomOut, .btnZoomIn, .btnFind, .btnShare",{".btnViewOnSS":"viewonss",".btnFirst":"gotofirstslide",".btnSS":"viewonss",".btnPrevious":"previous",".btnNext":"next",".btnLast":"gotolastslide",".btnFullScreen":"viewfullscreen",".btnLeaveFullScreen":"leavefullscreen",".btnZoomOut":"zoomout",".btnZoomIn":"zoomin",".btnFind":"playersearch",".btnShare":"playershare"});
var a=this.container.find(".goToSlideLabel>input[type=text]");a.attr("disabled",!1);a.bind("keyup",function(a){a.stopPropagation();13===a.keyCode&&(a=$(a.target).val(),isNaN(a)||(a=parseInt(a,10),$.slideshareEventManager.trigger("gotoslide",{index:a})))});a.bind("focus",function(a){$(a.target).select()});this.active=!0;this.config.hasAudio&&this.updateAudioInteraction();"video"===this.config.playerType&&this._activateAudio()};
SSToolbar.prototype.updateAudioInteraction=function(a){for(var b in a)this[b]=a[b];"video"===this.config.playerType?this._activateAudio():this.active&&this.audioReady&&this.audioMetaReady?(!this.audioActive&&this._activateAudio(),this._updateAudioDisplay()):this.audioActive&&this._deactivateAudio()};
SSToolbar.prototype._activateAudio=function(){this.container.find(".btnAudio,.btnVolume").removeClass("disabled");this._bindButtonHandler(".btnAudio,.btnVolume",{".btnAudio":"toggleaudio",".btnVolume":"showvolumecontrol"});this.audioActive=!0};SSToolbar.prototype._deactivateAudio=function(){this.container.find(".btnAudio,.btnVolume").addClass("disabled");this._unbindButtonHandler(".btnAudio,.btnVolume");this.audioActive=!1};
SSToolbar.prototype._updateAudioDisplay=function(){this.audioPlaying?this.container.find(".btnAudio").removeClass("btnAudioPlay").addClass("btnAudioPause").attr("title","Pause"):this.container.find(".btnAudio").removeClass("btnAudioPause").addClass("btnAudioPlay").attr("title","Play")};
SSToolbar.prototype._bindButtonHandler=function(a,b){var c=this.container,d=this;this.container.find(a).unbind();$.each(b,function(a,b){c.find(a).bind("click",function(a){$.slideshareEventManager.trigger(b,{source:d.GA_EVENTS_SRC[b]});a.preventDefault();a.stopPropagation();(a=d.GA_EVENTS[b])&&$.slideshareEventManager.trackEvent(a)})})};SSToolbar.prototype._unbindButtonHandler=function(a){this.container.find(a).unbind();this.container.find(a).bind("click",function(a){a.preventDefault();a.stopPropagation()})};
SSToolbar.prototype.setDimensions=function(a){var b=this,a=a.width/2-b.config.toolbarPadding-b._ELEMENT_WIDTHS[b._ELEMENT_PRIORITIES[1][0]],c={one:a,two:a},d,e,f,g;$.each(this._ELEMENT_PRIORITIES,function(a,j){d=j.length;for(var l=0;l<d;l++){e=j[l];var m=b._ELEMENT_SECTION[e];f=b._ELEMENT_WIDTHS[e];g=b._ELEMENT_VISIBILITY[e]&&c[m]>f;1==a||g?(b._ELEMENTS[e].show(),1!=a&&(c[m]-=f)):b._ELEMENTS[e].hide()}})};SSToolbar.prototype.updateCurrentPosition=function(a){this.container.find(".goToSlideLabel>input[type=text]").val(a)};
SSToolbar.prototype.destroy=function(){this.container.remove()};function SSVideoEmbedSlide(a){SSPresentationSlide.call(this,a);this.config=a;this.PLAYER_UNINITIALIZED=-1;this.PLAYER_AUTOHIDE=2;this.ENABLE_JS_API=1;this.PADDING=0;this.playerReady=!1;this._initVideoSlidesLoading()}SSVideoEmbedSlide.prototype=new SSPresentationSlide;
SSVideoEmbedSlide.prototype._initVideoSlidesLoading=function(){"function"!==typeof window.onYouTubePlayerAPIReady&&(window.onYouTubePlayerAPIReady=function(){$(window.video_slides||[]).each(function(a,b){b.playerReady=!0})});window.video_slides||(window.video_slides=[]);window.video_slides.push(this)};SSVideoEmbedSlide.prototype._videoReady=function(a){this.ytube_player=a.target};
SSVideoEmbedSlide.prototype._playVideo=function(){if(this.ytube_player.getPlayerState)this.ytube_player.getPlayerState()===this.PLAYER_UNINITIALIZED&&this.ytube_player.playVideo();else{var a=this;setTimeout(function(){a._playVideo()},1E3)}};SSVideoEmbedSlide.prototype._pauseVideo=function(){this.ytube_player.pauseVideo()};SSVideoEmbedSlide.prototype._videoLoadFailed=function(){$.slideshareEventManager.trigger("videoloadfailed")};
SSVideoEmbedSlide.prototype._tryPlayerLoad=function(){var a=this;this.ytube_player=new YT.Player("ytube_player"+this.config.current_video_count,{videoId:this.config.video_id,playerVars:{autohide:this.PLAYER_AUTOHIDE,enablejsapi:this.ENABLE_JS_API,origin:"http://www.slideshare.net",theme:"light"},width:this.currentViewMode.width,height:this.currentViewMode.height,events:{onReady:function(b){a._videoReady(b)},onError:this._videoLoadFailed}})};
SSVideoEmbedSlide.prototype.retryPlayerLoad=function(){clearTimeout(this.retrying);if(this.playerReady)this._tryPlayerLoad();else{var a=this;this.retrying=setTimeout(function(){a.retryPlayerLoad()},1E3)}};SSVideoEmbedSlide.prototype.removeLoading=function(){var a=this.currentViewMode.wrapper;$("#ytube_player"+this.config.current_video_count,a).show();$(".ytube_message",a).remove();$("style",a).remove()};
SSVideoEmbedSlide.prototype.showLoading=function(){var a=this.currentViewMode.wrapper;$(this.config.loading_message_partial).appendTo(a);this.hideLoadingMessage=!0};SSVideoEmbedSlide.prototype.show=function(){this.currentViewMode.rendered=!0;this.load();this.painted&&this.showMessage()};
SSVideoEmbedSlide.prototype.showMessage=function(){if(this.hideLoadingMessage)$("#ytube_player"+this.config.current_video_count).show();else{this.showLoading();clearTimeout(this.removeLoadingTimeout);var a=this;if(void 0===this.hideLoadingMessage||this.hideLoadingMessage)this.removeLoadingTimeout=setTimeout(function(){a.removeLoading();a._playVideo()},3E3)}};
SSVideoEmbedSlide.prototype.emptySlide=function(){this.currentViewMode.contentElement=null;this.painted=this.currentViewMode.rendered=!1;this.ytube_player=null};SSVideoEmbedSlide.prototype.stop=function(){this._pauseVideo()};SSVideoEmbedSlide.prototype.load=function(){$.slideshareEventManager.trigger("slideloaded",{index:this.index})};
SSVideoEmbedSlide.prototype.paint=function(){var a="ytube_player"+this.config.current_video_count;this.currentViewMode.contentElement||(this.currentViewMode.contentElement=$("<div id="+a+"></div>").css({position:"absolute",overflow:"hidden",display:"none"}),this.currentViewMode.contentElement.appendTo(this.currentViewMode.wrapper),this.playerReady?this._tryPlayerLoad():this.retryPlayerLoad())};SSVideoEmbedSlide.prototype._getNewResourceVersions=function(){};
function SSPlayerController(a){this.config=a;this.slideCount=this.realSlideCount=this.config.slide_count;this.config.has_video&&(this.slideCount+=this.config.video_slides_count);delete this.config.slide_count;this.mode=this.config.mode;delete this.config.mode;this.currentPosition=0;this.loadingSlides=[];this.loadedSlides=[];this.slideModes={};this.availableBgSizes={};this.availableFallbackSizes={};this.config.has_lead&&(this.has_lead=!0,this.leadShownAndDisabled=!1,this.config.form_after_slide_no===
this.slideCount?this.config.form_after_slide_no=this.slideCount-1:0<=this.config.form_after_slide_no&&(this.config.form_after_slide_no+=1));this.PRELOAD_PRE_LIMIT=2;this.PRELOAD_POST_LIMIT=5;this.FONT_BATCH_COUNT=10;this.DEFAULT_ERROR_SCORE=0;this.AUTOVERIFICATION_ERROR_THRESHOLD=0.0010;this.AUTOVERIFICATION_THRESHOLDS={"bad v1.0":0.0010,"bad v1.1":1E-4,"bad v2.0":1E-4};this.MAX_PERCENTAGE_FAILING={"bad v1.0":100,"bad v1.1":20,"bad v2.0":20};this.TOOLBAR_HEIGHT=30;this.TOOLBAR_PADDING=8;this.MULTIMEDIABAR_HEIGHT=
25;this.initialized=!1;this.PRERENDER_COUNT=1;this._init();this.startSlide=parseInt(this.config.start_slide||1,10);this.play(this.startSlide)}
SSPlayerController.prototype._init=function(){var a;$.slideshareEventManager.registerController(this);$.slideshareEventManager.registerEnvironment(this.config.hosted_in);this.cachedDomElements={};this.componentSets={};a=this._isFullScreen()?"fullscreen":"normal";this._createComponentSet(a);this.isNativeFullScreenSupported=this._isNativeFullScreenSupported();this._bindEvents();this.exitFullScreenHandler=this.exitFullScreenHandlerFactory();"video"!==this.mode?(this._initMetadata(),this._loadMetadata(),
this.config.has_audio&&!this.config.touch&&this._loadAudioMetadata()):(this.VIDEO_FULLSCREEN_ZINDEX=this.VIDEO_REINITIALISE_TIME=100,this._loadVideoMeta());$.slideshareEventManager.trackEvent("player_initialized");$.slideshareEventManager.trackUniqueViewer();$.slideshareEventManager.trackEvent(this.mode+"_mode")};SSPlayerController.prototype._loadVideoMeta=function(){this.config.is_private&&this._getHtmlSignatures();this.initialized=!0};
SSPlayerController.prototype._initMetadata=function(){if("html"===this.mode)this.config.is_private&&this._getHtmlSignatures(),this._initFontResources(),this._initHtmlMetadata(),this.config.image_ready&&this._initImageMetadata(!0);else if("image"===this.mode)this._initImageMetadata();else throw window._gaq&&_gaq.push(["_trackEvent","jsplayer","invalidplayermode",this.config.id]),"Unknown player mode";};
SSPlayerController.prototype._loadMetadata=function(){if("html"===this.mode)this.metaResource.load(),this.config.image_ready&&this.imageMetaResource.load();else if("image"===this.mode)this.imageMetaResource.load();else throw"Unknown player mode";};SSPlayerController.prototype._initHtmlMetadata=function(a){this.metaResource=new SSMetaResource({url:this.config.bucket_location+"meta.js",timestamp:this.config.timestamp,type:"html",is_private:this.config.is_private,signature:a})};
SSPlayerController.prototype._initImageMetadata=function(a){this.imageMetaResource=new SSMetaResource({url:this.config.image_bucket_location+"/meta.js",timestamp:this.config.timestamp,type:a?"imagefallback":"imageprimary"})};
SSPlayerController.prototype._initFontResources=function(a,b){fontBatchNum=b?Math.ceil(this.slideCount/b):Math.ceil(this.slideCount/this.FONT_BATCH_COUNT);var c;c=$.browser.msie?this.config.html_eotfont_url_suffix:this.config.html_ttffont_url_suffix;var d;this.fontResources=[];for(d=1;d<=fontBatchNum;d++)this.fontResources[d]=new SSFontResource({baseUrl:this.config.bucket_location,indexString:this._getIndexString(d,0),timestamp:this.config.timestamp,suffix:c})};
SSPlayerController.prototype._loadAudioMetadata=function(){this.multimediaResource=new SSAudioResource({url:this.config.audio_bucket_location+".js",timestamp:this.config.audio_timestamp,slideCount:this.slideCount,audioDuration:this.config.audio_duration,audioUrl:this.config.audio_url,flashRoot:this.config.sound_manager_flash_component_root,assetId:this.config.sound_manager_asset_id});this.multimediaResource.load()};
SSPlayerController.prototype.setLeadFilledForAuthor=function(){if(window.localStorage){var a=localStorage.getItem("leadFormFilled");a?0>a.split(",").indexOf(""+this.config.author_id)&&(a+=","+this.config.author_id,localStorage.setItem("leadFormFilled",a)):localStorage.setItem("leadFormFilled",this.config.author_id)}};
SSPlayerController.prototype.checkLeadFilledForAuthor=function(){return"undefined"===typeof localStorage?!1:(v=localStorage.getItem("leadFormFilled"))&&0<=$.inArray(""+this.config.author_id,v.split(","))};
SSPlayerController.prototype.getImagePrivateSignatures=function(a,b){var c=this;$.ajax({url:c.config.images_signature_request_route,data:{id:c.config.id,key:c.config.secret_key,mode:b,images_sizes:a,version:c.conversionVersion,password_hash:c.config.password_hash,slidetracking_hash:c.config.slidetracking_hash},dataType:"json",cache:!1,type:"POST",success:function(a){"html"===b?c.privateImageSignatures=a:"image"===b&&(c.privateFallBackImageSignatures=a);if("html"===b||"image"===b)c.postInitialize();
else if(c.slidesCreated){var e=c.slideModes.image.length,f,g;for(i=0;i<e;i++)g=c.slideModes.image[i],f=c.slides[c.realIndexToIndex[g]],f.resources.image.addSignature(a[g]),f.resources.image.ready()}else c.privateFallBackImageSignatures=a}})};
SSPlayerController.prototype._getHtmlSignatures=function(){var a=this;$.ajax({url:this.config.signature_request_route,data:{id:this.config.id,key:this.config.secret_key},dataType:"json",cache:!1,type:"POST",success:function(b){var c=b.length;if(0!==c){for(var d=0;d<c;d++)a.htmlResourceSignatures=b[d].info;for(d=0;d<a.slideCount;d++)a.slides&&a.slides[d]&&(slide=a.slides[d],slide.resources.html.updateSignature(a.htmlResourceSignatures[d].url),slide.resources.html.ready())}},failure:function(){$.slideshareEventManager.trigger("metadataloadfailed",
{type:a.config.type})}})};
SSPlayerController.prototype._metaDataHandlers=function(){var a=function(){var a,c,d=this.currentComponentSet.slidedisplayer;a=d.container.height();c=d.container.width();d.error(this.generateErrorDom("meta_error_template",{width:c,height:a}))};return{html:{success:function(a){this.conversionVersion=parseInt(a.version||1,10);this.slideSizes=a.sizes||{};var c={};switch(this.conversionVersion){case 2:c=a.available_sizes||{};break;case 1:var d=a.image_formats,e,f,g,h,j,l=this.realSlideCount;for(e=1;e<=
l;e++){f=d[e]||{};g={};for(h in f)g[h]=[f[h]];g[400]=["jpg"];try{j=this.slideSizes[e].width}catch(m){j=g.length-1+100}g[j]=["png"];c[e]=g}}this.availableBgSizes=c;c=a.error_scores||{};this.algo=c.algo||"bad v1.0";this.errorScores=c.webkit||{};c="\n.ssml_div span {line-height:normal;} \n.ssml_div div {line-height:normal;}\n.ssml_div{font-size:16px;}";this.config.disable_links&&(c+="\n.ssml_div a{cursor:default;}");$("<style>"+(a.global_styles_css||"a.ssml_a {text-decoration:none;color:inherit;vertical-align:top;} \n.ssml_div span {position:absolute; white-space:pre; vertical-align:top;} \n.ssml_div div {position:absolute;}")+
c+"</style>").appendTo(this.currentComponentSet.container);a.pages_per_fontfile&&(this.FONT_BATCH_COUNT=a.pages_per_fontfile,this._initFontResources());this.config.is_private?this.getImagePrivateSignatures(this.availableBgSizes,"html"):this.postInitialize()},failure:a},imagefallback:{success:function(a){this.config.disable_links&&(a.links={});this.slidesCreated?this.fallbackMetaHandler(a):this.fallbackMetaData=a},failure:function(){var a=this.slideModes.image.length,c,d,e,f;for(c=0;c<a;c++)d=this.slideModes.image[c],
f=this.slides[d],d=f.currentViewMode.width,e=f.currentViewMode.height,f.displayError(this.generateErrorDom("slide_error_template",{width:d,height:e}),!0)}},imageprimary:{success:function(a){this.conversionVersion=parseInt(a.version||1,10);this.slideSizes=a.sizes||{};this.config.disable_links&&(a.links={});this.slideLinks=a.links||{};var c=this.realSlideCount,d,e;switch(this.conversionVersion){case 2:this.availableFallbackSizes=a.available_sizes;break;case 1:this.availableFallbackSizes={};for(a=1;a<=
c;a++)d={320:[75],768:[75]},e=this.slideSizes[a]||{},e.width&&(d[e.width]=[75]),this.availableFallbackSizes[a]=d}this.config.is_private?this.getImagePrivateSignatures(this.availableFallbackSizes,"image"):this.postInitialize()},failure:a}}};
SSPlayerController.prototype.fallbackMetaHandler=function(a){var b=parseInt(a.version||1,10),c=a.sizes||{},d=a.available_sizes||{},a=a.links||{},e=this.slideModes.image.length,f,g,h;for(i=0;i<e;i++)slideIndex=this.slideModes.image[i],g=c[slideIndex]||{},f=d[slideIndex],void 0===f&&(f={320:[75],768:[75]},f[g.width]=[75]),h=this.slides[this.realIndexToIndex[slideIndex]],h.setContentDimensions(g.width||0,g.height||0),h.updateResource("image",{sizes:{contentWidth:g.width||0,availableSizes:f,conversionVersion:b,
is_private:this.config.is_private},linkData:a[slideIndex]||[]});this.config.is_private&&this.getImagePrivateSignatures(d,"imagefb")};SSPlayerController.prototype.postInitialize=function(){this._initSlides();this._activateComponentSet(this.currentViewMode);this._setModeForSlides(this.currentViewMode);this.setDimensions();$(this).trigger("playerinitialized")};
SSPlayerController.prototype.initVideoPlayer=function(a){this.multimediaResource=this.currentComponentSet.videobar;this.multimediaResource.videoPlayer=jwplayer("videoSlideContainer_"+a);this._activateComponentSet(a);this.setDimensions();$("[id*=videoSlideContainer]").css("cursor","default")};
SSPlayerController.prototype._bindEvents=function(){var a=this;$(this).bind("playerinitialized",function(){this.initialized=!0;a.play();a.isMobiledevice()&&a.peepInandBack()});!this.config.touch&&!("document"===this.config.player_type||"video"===this.config.player_type)&&$(document).bind("keyup",function(b){if("INPUT"!==b.target.nodeName&&"TEXTAREA"!==b.target.nodeName){var c=a.currentComponentSet.leadForm;if(37===b.keyCode&&(!c||!c.isVisible()))a.currentComponentSet.lastScreen&&a.currentComponentSet.lastScreen.destroy(),
$.slideshareEventManager.trigger("previous");39===b.keyCode&&(!c||!c.isVisible())&&$.slideshareEventManager.trigger("next")}});this.isNativeFullScreenSupported&&$(document).bind(this.nativeFullScreen.fullScreenChangeEventName(),function(b){a._nativeFullScreenHandler.call(a,b)})};
SSPlayerController.prototype._bindComponentSetEvents=function(){var a=this;$(this.currentComponentSet.slidedisplayer).bind("zoomchanged",function(){a.repaint();if(this.documentSlider)for(var b=1;b<a.slides.length&&"undefined"!==typeof a.slides[b].currentViewMode.imageElement;)a.currentComponentSet.slidedisplayer.slidesContainer.width()!==a.slides[b].currentViewMode.imageElement.width()&&a.slides[b].show(!0),b++})};
SSPlayerController.prototype._createComponentSet=function(a){this.componentSets[a]={};this.currentComponentSet=this.componentSets[a];this.currentViewMode=a;var b=this.currentComponentSet;if("normal"===a){b.container=$("#"+this.config.container);if(1!==b.container.length)throw"Unable to find container for player";b.container.css({overflow:"hidden"})}else"fullscreen"===a&&(this.normalModeScrollPosition=$(window).scrollTop(),b.container=$("<div/>").addClass("jsplInpageFullScreen").appendTo($("body")),
$("body, html").css({overflow:"hidden"}));var c=this._isFullScreen(a),d=this._getPlayerBgColor(a);b.navigators=[];d={renderTo:b.container,spinnerUrl:this.config.spinner_url,errorImageUrl:this.config.error_image_url,mode:this.mode,slideCount:this.slideCount,playerType:this.config.player_type,playerBgColor:d,hosted_in:this.config.hosted_in};this._isFullScreen(a)&&(d.spinnerUrl=this.config.spinner_url_fullscreen);"document"===this.config.player_type?b.slidedisplayer=new SSDocumentDisplayer(d):"video"===
this.config.player_type?(d.videoBucket=this.config.video_bucket,d.pptLocation=this.config.ppt_location,d.screenMode=a,d.videoSpinner=this.config.video_spinner_location,d.playerDomName=this.config.container,b.slidedisplayer=new SSVideoDisplayer(d)):(d.isTouch=this.config.touch,b.slidedisplayer=new SSPresentationDisplayer(d));b.navigators.push(b.slidedisplayer);this.hasToolbar=!this.config.touch;this.setDimensions();a=this.currentComponentSet.width;d=this.currentComponentSet.height;this.config.shareScreenClass=
"";this.config.lastScreenClass="";this.config.showProLastScreen=!0;"embed"==this.config.hosted_in&&(this.config.disable_share||(this.config.shareScreenClass=this._getShareScreenClass(a,d),this.config.shareScreenClass||(this.config.disable_share=!0)),this.config.disable_lastscreen||(this.config.lastScreenClass=this._getLastScreenClass(a,d),this.config.disable_lastscreen=null===this.config.lastScreenClass),this.config.showProLastScreen=this.canShowProLastScreen(a,d));this.config.touch?(b.touchInteraction=
new SSTouchInteraction({container:b.slidedisplayer.container,playerType:this.config.player_type}),b.navigators.push(b.touchInteraction)):"document"!==this.config.player_type&&"video"!==this.config.player_type&&(b.bandInteraction=new SSBandInteraction({container:b.slidedisplayer.container,width:b.width,linksDisabled:this.config.disable_links}),b.navigators.push(b.bandInteraction));this.config.has_lead&&(!this.leadShownAndDisabled&&!this.checkLeadFilledForAuthor())&&(this.config.show_lead_cta&&(b.leadcta=
new SSLeadCTA({renderTo:b.container,html:this.config.lead_form_cta_html,has_audio:this.config.has_audio}),b.navigators.push(b.leadcta)),b.leadForm=new SSLeadForm({leadFormHtml:this.config.leadFormHtml||"",renderTo:b.slidedisplayer.container,lead_form_url:this.config.lead_form_url,show_skip_button:this.config.show_skip_button,width:this.currentComponentSet.width,height:this.currentComponentSet.height}),b.navigators.push(b.leadForm));this.hasToolbar&&(b.toolbar=new SSToolbar({width:b.width,height:this.TOOLBAR_HEIGHT,
html:this.config.toolbar_html,renderTo:b.container,totalSlideCount:this.slideCount,primaryResourceType:this.config.primaryResourceType,disableShare:this.config.disable_share,enableViewSS:this.config.enable_viewSS,isFullScreen:c,playerType:this.config.player_type,hasAudio:this.config.has_audio}),b.navigators.push(b.toolbar));this.config.has_audio&&!this.config.touch&&(b.audiobar=new SSAudioBar({renderTo:b.container,slideCount:this.slideCount,height:this.MULTIMEDIABAR_HEIGHT,html:this.config.multimediabar_html,
resource:this.multimediaResource,css2ConfettiUrl:this.config.css2_confetti_url}),b.navigators.push(b.audiobar));"video"===this.config.player_type&&(b.videobar=new SSVideoBar({renderTo:b.toolbar.container,height:this.MULTIMEDIABAR_HEIGHT,html:this.config.multimediabar_html,showLead:this.config.has_lead,leadFormTime:this.config.form_after_slide_no}),b.navigators.push(b.videobar),this.multimediaResource=b.videobar);this.config.has_video&&(b.videoConfetti=$("<img/>").attr({src:this.config.confetti_url}).css({position:"absolute",
top:"-1px",left:"-1px"}).appendTo(b.container));"video"!==this.mode&&this._bindComponentSetEvents()};SSPlayerController.prototype.configureComponenetsForNativeMode=function(a){var b=this.currentComponentSet;b.slidedisplayer.refresh({spinnerUrl:this.config.spinner_url_fullscreen});b.toolbar.config.isFullScreen=this._isFullScreen(a);b.toolbar._initForNativeFullScreen(a)};SSPlayerController.prototype._isFullScreen=function(a){return"fullscreen"===a||"nativefullscreen"===a||this.config.is_fullscreen};
SSPlayerController.prototype._getPlayerBgColor=function(a){var b="jsplBgColorCCC";return b=this._isFullScreen(a)?this.config.fullscreen_bgcolor:this.config.player_bgcolor};SSPlayerController.prototype._getShareScreenClass=function(a,b){var c=null;360<a&&260<b?c="normal":320<a&&250<b?c="small":290<a&&280<b&&(c="tiny");return c};SSPlayerController.prototype.canShowProLastScreen=function(a,b){return 337>a||142>b?!1:!0};
SSPlayerController.prototype._getLastScreenClass=function(a,b){var c=null;512<=a&&421<=b?c="":427<=a&&356<=b?c="normal":369<=a&&308<=b&&(c="small");return c};
SSPlayerController.prototype._destroyComponentSet=function(a){var b=this.componentSets[a];$.each(b.navigators,function(a,b){b.destroy()});delete this.componentSets[a].navigators;delete this.componentSets[a].slidedisplayer;"fullscreen"===a&&(b.container.remove(),$("body, html").css({overflow:"auto"}));for(var c=1;c<=this.slideCount;c++)b=this.slides[c],b.viewModes[a].container.remove(),delete b.viewModes[a];delete this.componentSets[a].container;delete this.componentSets[a]};
SSPlayerController.prototype._mapIndexes=function(){for(var a=this.config.video_hash,b=1,c=this.slideCount,d={},e={},f=1;f<=c;f++)a&&a[f]?d[f]=null:(d[f]=b,e[b]=f,b++);this.config.has_video&&(a=document.createElement("script"),a.src=(this.config.use_ssl?"https://":"http://")+"www.youtube.com/player_api",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b));this.indexToRealIndex=d;this.realIndexToIndex=e};
SSPlayerController.prototype._percentageFailing=function(a){var b=0,c;for(c in this.errorScores)this.errorScores[c]>a&&b++;return 0===this.slideCount?0:parseInt(100*(b/this.slideCount),10)};
SSPlayerController.prototype._initSlides=function(){this.slides=[];this.slideModes.image=[];this.slideModes.html=[];var a,b,c,d=!1,e,f=0,g=this.config.video_hash;this._mapIndexes();var h=this.indexToRealIndex,j=this.AUTOVERIFICATION_ERROR_THRESHOLD,l=0,m=100;2===this.conversionVersion&&"undefined"!==typeof this.AUTOVERIFICATION_THRESHOLDS[this.algo]&&(j=this.AUTOVERIFICATION_THRESHOLDS[this.algo],l=this._percentageFailing(j));2===this.conversionVersion&&"undefined"!==typeof this.MAX_PERCENTAGE_FAILING[this.algo]&&
(m=this.MAX_PERCENTAGE_FAILING[this.algo]);for(a in h)h.hasOwnProperty(a)&&(a=parseInt(a,10),e=h[a],null===h[a]?b="ytube_video":"html"===this.mode&&!this.config.image_ready?b="html":"image"===this.mode?b="image":2===this.conversionVersion&&l>m?(b="image",d=!0):(b=parseFloat(this.errorScores[a]),isNaN(b)&&(b=this.DEFAULT_ERROR_SCORE),b>j?(b="image",d=!0):b="html"),null===e&&(e=g[a].parent),c=this.slideSizes[e]||{},"html"===b?this.slideModes.html.push(e):"image"===b&&this.slideModes.image.push(e),c=
{ssid:this.config.id,realIndex:e,index:a,type:this.mode,slideMode:b,indexGenerator:this._getIndexString,contentWidth:parseInt(c.width,10),contentHeight:parseInt(c.height,10),playerWidth:this.currentComponentSet.width,errorImageUrl:this.config.error_image_url,spinnerUrl:this.config.spinner_url,spinnerUrlFullscreen:this.config.spinner_url_fullscreen,playerType:this.config.player_type,stripped_title:this.config.stripped_title,timestamp:this.config.timestamp,ppt_location:this.config.ppt_location,is_private:this.config.is_private,
conversionVersion:this.conversionVersion||1,hosted_in:this.config.hosted_in},"html"===b?(c.bucketLocation=this.config.bucket_location,c.availableSizes=this.availableBgSizes[e]):"image"===b&&(c.bucketLocation=this.config.image_bucket_location,c.availableSizes=this.availableFallbackSizes[e]),this.config.is_private&&("html"==b?(this.htmlResourceSignatures&&this.htmlResourceSignatures[e]&&(c.htmlResourceSignature=this.htmlResourceSignatures[e].url),c.privateImageSignatures=this.privateImageSignatures[e]):
"image"==b&&this.privateFallBackImageSignatures&&(c.privateImageSignatures=this.privateFallBackImageSignatures[e])),"document"===this.config.player_type?b=new SSDocumentSlide(c):"ytube_video"!==b?b=new SSPresentationSlide(c):(f++,c.video_id=g[a].video_id,c.current_video_count=f,c.loading_message_partial=this.config.loading_message_partial,1===a&&(c.contentWidth=728,c.contentHeight=542),b=new SSVideoEmbedSlide(c)),"image"===this.mode&&void 0!==this.slideLinks[e]&&b.updateResource("image",{linkData:this.slideLinks[e]||
{}}),this.slides[a]=b,delete this.availableFallbackSizes[e]);!0===d&&(this.slidesCreated=!0,this.fallbackMetaData&&this.fallbackMetaHandler(this.fallbackMetaData))};SSPlayerController.prototype._getIndexString=function(a,b){var c=""+a,d=c.length,e;for(e=0;e<b-d;e++)c="0"+c;return c};SSPlayerController.prototype._getContainerSize=function(){this.currentComponentSet.width=this.currentComponentSet.container.width();this.currentComponentSet.height=this.currentComponentSet.container.height()};
SSPlayerController.prototype.setDimensions=function(a){var b=this.currentComponentSet;this._getContainerSize();a=a||!1;b.viewHeight=b.height;this.hasToolbar&&(b.viewHeight-=this.TOOLBAR_HEIGHT+this.TOOLBAR_PADDING);this.config.has_audio&&(b.viewHeight-=this.MULTIMEDIABAR_HEIGHT);b.slidedisplayer.setDimensions({width:b.width,height:b.viewHeight,partial:a});if(!a){var c={height:b.height,width:b.width},d=this.currentComponentSet;$.each("toolbar audiobar videobar leadcta shareScreen lastScreen".split(" "),
function(a,b){d[b]&&d[b].setDimensions(c)})}};SSPlayerController.prototype.repaint=function(){void 0!==this.currentComponentSet.slidedisplayer&&(this.setDimensions(!0),this.setDimensions(),this._repaintPrerenderedSlides(),this.currentComponentSet.slidedisplayer._scrollTo(this.currentPosition))};SSPlayerController.prototype._repaintPrerenderedSlides=function(){var a=this.currentComponentSet.slidedisplayer.prerenderedSlides,b;if(a&&0<a.length){var c;for(c=0;c<a.length;c++)b=a[c],this.slides[b].show(!0)}};
SSPlayerController.prototype.updateCurrentPosition=function(a){if("video"!==this.config.player_type){var b=this.currentComponentSet.toolbar,c=this.currentComponentSet.audiobar;b&&b.updateCurrentPosition(a);c&&c.updateCurrentPosition(a);c=this.multimediaResource;b&&(this.config.has_audio&&c)&&(b.updateAudioInteraction({audioReady:c.audioReady,audioMetaReady:c.metaDataReady,audioPlaying:c.playing}),b.volumeControl.setVolume(this.multimediaResource.volume));this.currentPosition=a;this.slides[a].painted=
!0}};
SSPlayerController.prototype.displayLastScreen=function(){var a=this;"undefined"===typeof this.currentComponentSet.lastScreen&&(this.currentComponentSet.lastScreen=this.config.is_only_private||this.config.disable_lastscreen&&!this.config.showProLastScreen||this.config.show_replay_screen?new SSReplayScreen({renderTo:this.currentComponentSet.container,settings:this.config.replayscreen}):new SSLastScreen({renderTo:this.currentComponentSet.container,settings:this.config.lastscreen,embed_code:this.config.embed_code,lastScreenClass:this.config.lastScreenClass,
disableRelated:this.config.disable_lastscreen,disableShare:"embed"==this.config.hosted_in?this.config.disable_share:!1,shareOptions:this.config.shareoptions}),$(this.currentComponentSet.lastScreen).bind("gotofirstslide",function(){$(a).trigger("gotofirstslide")}),$(this.currentComponentSet.lastScreen).bind("showshareoptions",function(){a.displayShareScreen()}));this.currentComponentSet.lastScreen.show({width:this.currentComponentSet.width,height:this.currentComponentSet.height});this.currentComponentSet.lastScreen.isProLastScreen?
$.slideshareEventManager.trackEvent("proLastscreen_shown"):$.slideshareEventManager.trackEvent("lastscreen_shown");if(this.currentComponentSet.toolbar&&this.currentComponentSet.videobar){var b=this.currentComponentSet.lastscreen.overlay.css("z-index")-1;$(this.currentComponentSet.toolbar.container).css("z-index",b)}};
SSPlayerController.prototype.displayShareScreen=function(){"undefined"===typeof this.currentComponentSet.shareScreen&&(this.currentComponentSet.shareScreen=new SSShareScreen({renderTo:this.currentComponentSet.container,settings:this.config.sharescreen,embed_code:this.config.embed_code,shareScreenClass:this.config.shareScreenClass,shareOptions:this.config.shareoptions}));this.currentComponentSet.shareScreen.show({width:this.currentComponentSet.width,height:this.currentComponentSet.height})};
SSPlayerController.prototype.loadFonts=function(a){"html"===this.mode&&"initialized"===this.fontResources[a].status&&this.fontResources[a].load()};
SSPlayerController.prototype._load=function(a,b){if("video"!==this.config.player_type){var a=a||1,c,d,e=this;this.loadFonts(Math.ceil(a/this.FONT_BATCH_COUNT));if(!b){var f=a-this.PRERENDER_COUNT;1>f&&(f=1);var g=a+this.PRERENDER_COUNT;g>this.slideCount&&(g=this.slideCount);for(c=f;c<=g;c++)this.slides[c].show(),this.loadedSlides[c]=!0;if($.browser.msie||"function"===typeof isIos&&isIos()){var h=this.currentComponentSet.slidedisplayer.prerenderedSlides,j;for(c=0;c<h.length;c++)if(j=h[c],j<f||j>g)d=
this.slides[j],d.hide();this.currentComponentSet.slidedisplayer.prerenderedSlides=[]}this.currentComponentSet.slidedisplayer.setPrerenderedSlides({start:f,end:g})}clearTimeout(this.preloadTimeoutId);this.preloadTimeoutId=setTimeout(function(){var b=e.PRELOAD_PRE_LIMIT+e.PRELOAD_POST_LIMIT+1,f=a-e.PRELOAD_PRE_LIMIT;1>f&&(f=1);b=f+b-1;b>e.slideCount&&(b=e.slideCount);var g=Math.ceil(f/e.FONT_BATCH_COUNT),h=Math.ceil(b/e.FONT_BATCH_COUNT);for(c=g;c<=h;c++)e.loadFonts(c);for(c=f;c<=b;c++)e.loadedSlides[c]||
(d=e.slides[c],d.load(),e.loadedSlides[c]=!0);delete e.preloadTimeoutId},2E3)}};SSPlayerController.prototype.preloadMoreIfIdle=function(a){var b=this.loadingSlides,a=b.indexOf(a);-1<a&&b.splice(a,1);if(!this.preloadTimeoutId&&2>b.length){var c=this.loadedSlides.length+1;if(!(c>this.realSlideCount)){var d=this;setTimeout(function(){d._load(c,!0)},0)}}};SSPlayerController.prototype.peepInandBack=function(a){a="undefined"!==typeof this.playQueue?this.playQueue:1;this.currentComponentSet.slidedisplayer.peepInandBack(a)};
SSPlayerController.prototype.play=function(a,b,c){if(this.initialized){if(void 0===a&&("undefined"!==typeof this.playQueue?(a=this.playQueue,delete this.playQueue):a=1),1>a&&(a=1),a>this.slideCount&&(a=this.slideCount),this.currentPosition!==a||b)"video"===this.config.player_type?this.currentComponentSet.slidedisplayer.start():$.slideshareEventManager.trigger("slidechanged",{index:a,force:b,source:c})}else this.playQueue=a||1};
SSPlayerController.prototype._enableVideoReloading=function(){var a=this.slides,b;for(b in a)a.hasOwnProperty(b)&&a[b]&&"ytube_video"===a[b].config.slideMode&&a[b].emptySlide()};
SSPlayerController.prototype.switchNativeView=function(a){if("nativefullscreen"==a){var b=this.currentComponentSet.container;b.length&&this.nativeFullScreen.request(b[0])}else this.nativeFullScreen.cancel();void 0===this.componentSets[a]&&(this.componentSets[a]=this.componentSets[this.currentViewMode]);this.currentComponentSet=this.componentSets[a];this.currentViewMode=a;this.currentComponentSet.slidedisplayer.emptySlides();this.configureComponenetsForNativeMode(a);this._setModeForSlides(a);this._load(this.currentPosition);
this.updateCurrentPosition(this.currentPosition)};SSPlayerController.prototype._nativeFullScreenHandler=function(){this.nativeFullScreen.isFullScreen()?this.currentViewMode="nativefullscreen":(this.currentViewMode="normal",this.switchNativeView(this.currentViewMode));this.repaint()};
SSPlayerController.prototype.nativeFullScreen={request:function(a){document.webkitFullscreenEnabled?a.webkitRequestFullScreen():document.mozFullScreenEnabled&&a.mozRequestFullScreen()},cancel:function(){document.webkitFullscreenEnabled?document.webkitCancelFullScreen():document.mozFullScreenEnabled&&document.mozCancelFullScreen()},fullScreenChangeEventName:function(){if(document.webkitFullscreenEnabled)return"webkitfullscreenchange";if(document.mozFullScreenEnabled)return"mozfullscreenchange"},isFullScreen:function(){return document.webkitIsFullScreen||
document.mozFullScreen}};SSPlayerController.prototype._isNativeFullScreenSupported=function(){return(document.webkitFullscreenEnabled||document.mozFullScreenEnabled)&&!this.config.has_video};
SSPlayerController.prototype.leaveFullScreen=function(){this.currentComponentSet.videobar&&this.currentComponentSet.slidedisplayer.adjustSpinnerPosition(!1);if("nativefullscreen"===this.currentViewMode&&this.isNativeFullScreenSupported)this.switchNativeView("normal");else if("video"===this.config.player_type)this.returnFromFullscreenForVideo();else if(this.config.inpage_full_screen)this.switchView("normal");else try{window.close()}catch(a){}};
SSPlayerController.prototype.switchView=function(a){a!==this.currentViewMode&&(this.config.has_video&&(this._enableVideoReloading(),$("[id*=ytube_player]").remove()),this._deactivateComponentSet(this.currentViewMode),void 0===this.componentSets[a]&&this._createComponentSet(a),this._activateComponentSet(a),this._setModeForSlides(a),this.setDimensions(),this.play(this.currentPosition,!0),this._load(this.currentPosition),this.updateCurrentPosition(this.currentPosition))};
SSPlayerController.prototype._activateComponentSet=function(a){var b=this.componentSets[a],c=b.navigators;this.currentComponentSet=b;this.currentViewMode=a;$.each(c,function(a,b){b.activate()});"fullscreen"===a||this.config.is_fullscreen?($(document).bind("keyup",this.exitFullScreenHandler),$(window).scrollTop(0)):($(document).unbind("keyup",this.exitFullScreenHandler),this.normalModeScrollPosition&&$(window).scrollTop(this.normalModeScrollPosition))};
SSPlayerController.prototype.exitFullScreenHandlerFactory=function(){return function(a){if(27===a.keyCode)try{$.slideshareEventManager.trigger("leavefullscreen")}catch(b){}}};SSPlayerController.prototype._deactivateComponentSet=function(a){$.each(this.componentSets[a].navigators,function(a,c){c.deactivate()});"fullscreen"===a&&this._destroyComponentSet("fullscreen");this.currentViewMode=this.currentComponentSet=null};
SSPlayerController.prototype._setModeForSlides=function(a){"video"!==this.config.player_type&&this.currentComponentSet.slidedisplayer.start({slides:this.slides,mode:a,playerBgColor:this._getPlayerBgColor(a)});this.currentComponentSet.slidedisplayer._bindEvents()};SSPlayerController.prototype.getFullScreenUrl=function(){return this.config.fullscreen_url?this.config.fullscreen_url+"/"+this.currentPosition:document.location};
SSPlayerController.prototype.generateErrorDom=function(a,b){var c=a+"_"+b.width+"_"+b.height,d=this.cachedDomElements[c];if(void 0===d){var d=b.width,e=b.height,f=e/3,f=f>d/4?d/4:f,g=parseInt(f/20,10),h=(e-f)/("document"===this.config.player_type?4:2),j=d/25,l=f-14,d=$(this.config[a]);d.css({height:e-h,padding:h+"px 14px 0"});e=d.children("div");e.css({"-moz-border-radius":g,"-webkit-border-radius":g,"-o-border-radius":g,"-ms-border-radius":g,"border-radius":g,height:f});e.children("img").css({margin:7,
height:l,width:l});e.children("div").css({left:l+14,padding:"14px 0 0 7px","font-size":j});this.cachedDomElements[c]=d}return $(d).clone()};
SSPlayerController.prototype.goHtmlFullscreenForVideo=function(){$(".player").addClass("inPageFullscreen");var a=this.multimediaResource.videoPlayer,b=$(a.getContainer()),c=$(b.parent());this.normalPosition=b.css("position");this.normalZindex=b.css("z-index");this.normalLeft=b.css("left");this.normalTop=b.css("top");this.normalPlayerWidth=c.width();this.normalPlayerHeight=c.height();this.toolbarPaddingLeft=parseInt($(".toolbar").css("padding-left"),10);this.toolbarPadingRight=parseInt($(".toolbar").css("padding-right"),
10);b.detach();this.fullscreenHeight=$(window).height()-this.TOOLBAR_HEIGHT;this.fullscreenWidth=$(window).width();c.css({position:"fixed",width:"100%",height:"100%",left:0,top:0,"z-index":this.VIDEO_FULLSCREEN_ZINDEX});a.resize(this.fullscreenWidth,this.fullscreenHeight);this.currentComponentSet.container=c;$(this.currentComponentSet.toolbar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:this.fullscreenWidth-(this.toolbarPaddingLeft+this.toolbarPadingRight),position:"fixed",left:0,
bottom:0});$(this.currentComponentSet.toolbar.volumeControl.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,position:"fixed",bottom:0});$(this.currentComponentSet.videobar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:"100%",position:"relative",left:0,bottom:0});this.currentComponentSet.videobar.setDimensions({height:this.fullscreenHeight,width:this.fullscreenWidth,fullscreen:!0});var d=this.currentComponentSet.toolbar.getElements();d.fullScreen.hide();d.leaveFullScreen.show();
b.appendTo(c);this.currentComponentSet.leadcta&&(b=$(window).width()/2-this.currentComponentSet.leadcta.image_width/2,$("div.lead_cta_div").css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,position:"fixed",left:b}));setTimeout(function(){a.play(!0)},this.VIDEO_REINITIALISE_TIME)};
SSPlayerController.prototype.returnFromFullscreenForVideo=function(){$(".player").removeClass("inPageFullscreen");var a=this.multimediaResource.videoPlayer,b=$(a.getContainer()),c=$(b.parent());b.detach();c.css({position:"relative",height:this.normalPlayerHeight,width:this.normalPlayerWidth,"z-index":this.normalZindex,left:this.normalLeft,top:this.normalTop});a.resize(this.normalPlayerWidth,this.normalPlayerHeight);var d=this.currentComponentSet.toolbar.getElements();d.leaveFullScreen.hide();d.fullScreen.show();
$(this.currentComponentSet.toolbar.container).css({position:"relative",height:this.TOOLBAR_HEIGHT,width:this.normalPlayerWidth-(this.toolbarPaddingLeft+this.toolbarPadingRight),"z-index":this.normalZindex,left:this.normalLeft,top:this.normalTop,bottom:0});$(this.currentComponentSet.toolbar.volumeControl.container).css({position:"relative","z-index":this.normalZindex});$(this.currentComponentSet.videobar.container).css({position:"relative",height:this.MULTIMEDIABAR_HEIGHT,width:this.normalPlayerWidth,
"z-index":this.normalZindex});this.currentComponentSet.videobar.setDimensions({height:this.normalPlayerHeight,width:this.normalPlayerWidth});b.appendTo(c);this.currentComponentSet.leadcta&&(b=this.currentComponentSet.leadcta,b=b.config.renderTo.width()/2-b.image_width/2,$("div.lead_cta_div").css({"z-index":this.normalZindex,position:"absolute",left:b}));setTimeout(function(){a.play(!0)},this.VIDEO_REINITIALISE_TIME)};SSPlayerController.prototype.isMobiledevice=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)};
window.Modernizr=function(a,b,c){function d(a,b){for(var d in a)if(h[a[d]]!==c)return"pfx"==b?a[d]:!0;return!1}var e={},f=b.documentElement;b.head||b.getElementsByTagName("head");var g=b.createElement("modernizr"),h=g.style,j=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),g={},l=[],m=function(a,c,d,e){var g,h=b.createElement("div");if(parseInt(d,10))for(;d--;)g=b.createElement("div"),g.id=e?e[d]:"modernizr"+(d+1),h.appendChild(g);d=["&shy;<style>",a,"</style>"].join("");h.id="modernizr";h.innerHTML+=
d;f.appendChild(h);a=c(h,a);h.parentNode.removeChild(h);return!!a},p,q={}.hasOwnProperty,t;typeof q!==c&&typeof q.call!==c?t=function(a,b){return q.call(a,b)}:t=function(a,b){return b in a&&typeof a.constructor.prototype[b]===c};var x=[,"touch"],B=[,["@media (",j.join("touch-enabled),("),"modernizr){#touch{top:9px;position:absolute}}"].join("")].join(""),r=x.length;m(B,function(b){for(var b=b.childNodes,c={};r--;)c[b[r].id]=b[r];e.touch="ontouchstart"in a||9===c.touch.offsetTop},r,x);g.touch=function(){return e.touch};
g.csstransforms=function(){return!!d(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};for(var s in g)t(g,s)&&(p=s.toLowerCase(),e[p]=g[s](),l.push((e[p]?"":"no-")+p));h.cssText="";g=null;e._version="2.0.6";e._prefixes=j;e.testProp=function(a){return d([a])};e.testStyles=m;return e}(this,this.document);
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&(Infinity!=d&&-Infinity!=d)&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in b&&b[d]===a)return d;return-1});function SSPlayer(a){this.config=a;this._init()}
SSPlayer.prototype._init=function(){var a=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);this.config.touch=a&&Modernizr.touch;this.controller=new SSPlayerController(this.config);$.slideshareEventManager.registerPlayer(this);$(window).bind("resize",function(){$.slideshareEventManager.trigger("repaint")})};SSPlayer.prototype.play=function(a){this.controller.play(a||1)};SSPlayer.prototype.gotoCurrent=function(){this.controller.play(this.controller.currentPosition,!0)};
